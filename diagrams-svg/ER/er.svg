<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1879px" preserveAspectRatio="none" style="width:4069px;height:1879px;" version="1.1" viewBox="0 0 4069 1879" width="4069px" zoomAndPan="magnify"><defs><filter height="300%" id="f14uttfdjeqxdd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[af7553808e27414a6663019e1dd2c0e6]
cluster 職員情報--><polygon fill="#FFFFFF" filter="url(#f14uttfdjeqxdd)" points="594,785.5,656,785.5,663,807.7969,1158,807.7969,1158,1165,594,1165,594,785.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="594" x2="663" y1="807.7969" y2="807.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="598" y="800.4951">職員情報</text><!--MD5=[9f6ffe30cb633c56d0808b0c68d66db5]
cluster エリア--><polygon fill="#FFFFFF" filter="url(#f14uttfdjeqxdd)" points="1658,1015,1706,1015,1713,1037.2969,2105,1037.2969,2105,1152,1658,1152,1658,1015" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1658" x2="1713" y1="1037.2969" y2="1037.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42" x="1662" y="1029.9951">エリア</text><!--MD5=[eace04a6a715c010434b3f14fc7f454a]
cluster 施設情報--><polygon fill="#FFFFFF" filter="url(#f14uttfdjeqxdd)" points="1311,1189,1373,1189,1380,1211.2969,1957,1211.2969,1957,1605.5,1311,1605.5,1311,1189" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1311" x2="1380" y1="1211.2969" y2="1211.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="1315" y="1203.9951">施設情報</text><!--MD5=[d793eab0308b02564d964ddad9e6e3f5]
cluster 予定--><polygon fill="#FFFFFF" filter="url(#f14uttfdjeqxdd)" points="226,24.5,260,24.5,267,46.7969,1601,46.7969,1601,761.5,226,761.5,226,24.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="226" x2="267" y1="46.7969" y2="46.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="230" y="39.4951">予定</text><!--MD5=[2357de52a651de3e3141a47d68960241]
cluster 住所--><polygon fill="#FFFFFF" filter="url(#f14uttfdjeqxdd)" points="2165,785.5,2199,785.5,2206,807.7969,2363,807.7969,2363,986.5,2165,986.5,2165,785.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2165" x2="2206" y1="807.7969" y2="807.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="2169" y="800.4951">住所</text><!--MD5=[17926c9f6f73500917f0231ee648f0f2]
cluster 患者情報--><polygon fill="#FFFFFF" filter="url(#f14uttfdjeqxdd)" points="1729,547.5,1791,547.5,1798,569.7969,2141,569.7969,2141,924,1729,924,1729,547.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1729" x2="1798" y1="569.7969" y2="569.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="1733" y="562.4951">患者情報</text><!--MD5=[d43a93bed96446588d3c5fef43396a6d]
cluster 訪問情報--><polygon fill="#FFFFFF" filter="url(#f14uttfdjeqxdd)" points="2387,324.5,2449,324.5,2456,346.7969,3362,346.7969,3362,962,2387,962,2387,324.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="2387" x2="2456" y1="346.7969" y2="346.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="2391" y="339.4951">訪問情報</text><!--MD5=[99ea8e9b35d8532954e1d791d0ed7561]
cluster 経営データ--><polygon fill="#FFFFFF" filter="url(#f14uttfdjeqxdd)" points="3386,817.5,3462,817.5,3469,839.7969,4047,839.7969,4047,1320,3386,1320,3386,817.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="3386" x2="3469" y1="839.7969" y2="839.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="3390" y="832.4951">経営データ</text><!--MD5=[ae09dabfa09c874c19446006d7b92480]
cluster 権限--><polygon fill="#FFFFFF" filter="url(#f14uttfdjeqxdd)" points="347,1344,381,1344,388,1366.2969,1287,1366.2969,1287,1867,347,1867,347,1344" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="347" x2="388" y1="1366.2969" y2="1366.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="351" y="1358.9951">権限</text><!--MD5=[8413f8248b2da7966d2de021109ec289]
class users--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="150.4375" id="users" style="stroke: #A80036; stroke-width: 1.5;" width="267" x="874.5" y="820.5"/><ellipse cx="986.25" cy="836.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M990.3594,842.5 L982.6406,842.5 L982.6406,830.1094 L990.3594,830.1094 L990.3594,832.2656 L985.0938,832.2656 L985.0938,834.9375 L989.8594,834.9375 L989.8594,837.0938 L985.0938,837.0938 L985.0938,840.3438 L990.3594,840.3438 L990.3594,842.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="1006.75" y="840.6543">users</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="875.5" x2="1140.5" y1="852.5" y2="852.5"/><ellipse cx="885.5" cy="863.5" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="894.5" y="866.7104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="875.5" x2="1140.5" y1="873.3047" y2="873.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="255" x="880.5" y="887.5151">binary auth_user_id «FK» "CognitoユーザーID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="880.5" y="900.3198">string username "ユーザー名"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="880.5" y="913.1245">string phone_number "電話番号"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="880.5" y="925.9292">ENUM('男性', '女性') gender "性別"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="880.5" y="938.7339">binary area_id «FK» "担当エリアID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="880.5" y="951.5386">binary position_id «FK» "役職ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="880.5" y="964.3433">binary team_id «FK» "チームID"</text><path d="M866,1065.5 L866,1120.8984 A0,0 0 0 0 866,1120.8984 L1142,1120.8984 A0,0 0 0 0 1142,1120.8984 L1142,1075.5 L1132,1065.5 L1012,1065.5 L1008,970.73 L1004,1065.5 L866,1065.5 A0,0 0 0 0 866,1065.5 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1132,1065.5 L1132,1075.5 L1142,1075.5 L1132,1065.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="872" y="1082.5669">性別は、男性・女性・の2つの選択肢がある</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="872" y="1097.6997">1. 男性</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="872" y="1112.8325">2. 女性</text><!--MD5=[a81ebbc74fd6a5d1ba083cead8dfa143]
class monthly_workings--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="112.0234" id="monthly_workings" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="609.5" y="1037"/><ellipse cx="660.75" cy="1053" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M664.8594,1059 L657.1406,1059 L657.1406,1046.6094 L664.8594,1046.6094 L664.8594,1048.7656 L659.5938,1048.7656 L659.5938,1051.4375 L664.3594,1051.4375 L664.3594,1053.5938 L659.5938,1053.5938 L659.5938,1056.8438 L664.8594,1056.8438 L664.8594,1059 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="681.25" y="1057.1543">monthly_workings</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="610.5" x2="829.5" y1="1069" y2="1069"/><ellipse cx="620.5" cy="1080" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="629.5" y="1083.2104">binary working_data_id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="610.5" x2="829.5" y1="1089.8047" y2="1089.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="615.5" y="1104.0151">binary user_id «FK»</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="615.5" y="1116.8198">date month "稼働時間の月"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="615.5" y="1129.6245">int monthly_visit_count "月の訪問回数"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="615.5" y="1142.4292">int work_hours "勤務時間"</text><!--MD5=[30b3f9d6383eda1018bee78f0b1f9fb5]
class areas--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="areas" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="1901" y="1050"/><ellipse cx="1972.75" cy="1066" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1976.8594,1072 L1969.1406,1072 L1969.1406,1059.6094 L1976.8594,1059.6094 L1976.8594,1061.7656 L1971.5938,1061.7656 L1971.5938,1064.4375 L1976.3594,1064.4375 L1976.3594,1066.5938 L1971.5938,1066.5938 L1971.5938,1069.8438 L1976.8594,1069.8438 L1976.8594,1072 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="1993.25" y="1070.1543">areas</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1902" x2="2088" y1="1082" y2="1082"/><ellipse cx="1912" cy="1093" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1921" y="1096.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1902" x2="2088" y1="1102.8047" y2="1102.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="1907" y="1117.0151">string area_code "地域エリア名"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="1907" y="1129.8198">binary facility_id «FK» "施設ID"</text><!--MD5=[fa84bbf3d4d64fa8c94cea8e2a42e5db]
class areas_addresses--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="areas_addresses" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="1674" y="1050"/><ellipse cx="1712.4" cy="1066" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1716.5094,1072 L1708.7906,1072 L1708.7906,1059.6094 L1716.5094,1059.6094 L1716.5094,1061.7656 L1711.2438,1061.7656 L1711.2438,1064.4375 L1716.0094,1064.4375 L1716.0094,1066.5938 L1711.2438,1066.5938 L1711.2438,1069.8438 L1716.5094,1069.8438 L1716.5094,1072 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="1731.6" y="1070.1543">areas_addresses</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1675" x2="1865" y1="1082" y2="1082"/><ellipse cx="1685" cy="1093" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1694" y="1096.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1675" x2="1865" y1="1102.8047" y2="1102.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="1680" y="1117.0151">binary area_id «FK» "エリアID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="1680" y="1129.8198">binary address_id «FK» "住所ID"</text><!--MD5=[906b6f3cbaecf3ca9cf95c95e4e1b597]
class facilities--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="facilities" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="1546" y="1224"/><ellipse cx="1612.25" cy="1240" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1616.3594,1246 L1608.6406,1246 L1608.6406,1233.6094 L1616.3594,1233.6094 L1616.3594,1235.7656 L1611.0938,1235.7656 L1611.0938,1238.4375 L1615.8594,1238.4375 L1615.8594,1240.5938 L1611.0938,1240.5938 L1611.0938,1243.8438 L1616.3594,1243.8438 L1616.3594,1246 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="1632.75" y="1244.1543">facilities</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1547" x2="1737" y1="1256" y2="1256"/><ellipse cx="1557" cy="1267" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1566" y="1270.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1547" x2="1737" y1="1276.8047" y2="1276.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="1552" y="1291.0151">string name "施設名"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="1552" y="1303.8198">binary address_id «FK» "住所ID"</text><!--MD5=[812f124879d7479c543db8514bfe7b1c]
class teams--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="teams" style="stroke: #A80036; stroke-width: 1.5;" width="181" x="1327.5" y="1373"/><ellipse cx="1394.25" cy="1389" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1398.3594,1395 L1390.6406,1395 L1390.6406,1382.6094 L1398.3594,1382.6094 L1398.3594,1384.7656 L1393.0938,1384.7656 L1393.0938,1387.4375 L1397.8594,1387.4375 L1397.8594,1389.5938 L1393.0938,1389.5938 L1393.0938,1392.8438 L1398.3594,1392.8438 L1398.3594,1395 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="1414.75" y="1393.1543">teams</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1328.5" x2="1507.5" y1="1405" y2="1405"/><ellipse cx="1338.5" cy="1416" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1347.5" y="1419.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1328.5" x2="1507.5" y1="1425.8047" y2="1425.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="1333.5" y="1440.0151">string name "チーム名"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="1333.5" y="1452.8198">binary facility_id «FK» "施設ID"</text><!--MD5=[6c84c4f3a21a87fd355cd02b69660fa8]
class positions--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="positions" style="stroke: #A80036; stroke-width: 1.5;" width="181" x="1543.5" y="1373"/><ellipse cx="1601.25" cy="1389" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1605.3594,1395 L1597.6406,1395 L1597.6406,1382.6094 L1605.3594,1382.6094 L1605.3594,1384.7656 L1600.0938,1384.7656 L1600.0938,1387.4375 L1604.8594,1387.4375 L1604.8594,1389.5938 L1600.0938,1389.5938 L1600.0938,1392.8438 L1605.3594,1392.8438 L1605.3594,1395 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="1621.75" y="1393.1543">positions</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1544.5" x2="1723.5" y1="1405" y2="1405"/><ellipse cx="1554.5" cy="1416" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="1563.5" y="1419.2104">binary id «PK» "役職ID"</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1544.5" x2="1723.5" y1="1425.8047" y2="1425.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="1549.5" y="1440.0151">string name "役職名"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="1549.5" y="1452.8198">binary facility_id «FK» "施設ID"</text><!--MD5=[7f814fef5106890c143ca53cdb5abaab]
class departments--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="departments" style="stroke: #A80036; stroke-width: 1.5;" width="181" x="1759.5" y="1373"/><ellipse cx="1805.25" cy="1389" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1809.3594,1395 L1801.6406,1395 L1801.6406,1382.6094 L1809.3594,1382.6094 L1809.3594,1384.7656 L1804.0938,1384.7656 L1804.0938,1387.4375 L1808.8594,1387.4375 L1808.8594,1389.5938 L1804.0938,1389.5938 L1804.0938,1392.8438 L1809.3594,1392.8438 L1809.3594,1395 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="1825.75" y="1393.1543">departments</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1760.5" x2="1939.5" y1="1405" y2="1405"/><ellipse cx="1770.5" cy="1416" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1779.5" y="1419.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1760.5" x2="1939.5" y1="1425.8047" y2="1425.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="1765.5" y="1440.0151">string name "部署名"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="1765.5" y="1452.8198">binary facility_id «FK» "施設ID"</text><path d="M1570,1534.5 L1570,1589.8984 A0,0 0 0 0 1570,1589.8984 L1698,1589.8984 A0,0 0 0 0 1698,1589.8984 L1698,1544.5 L1688,1534.5 L1638,1534.5 L1634,1459.02 L1630,1534.5 L1570,1534.5 A0,0 0 0 0 1570,1534.5 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1688,1534.5 L1688,1544.5 L1698,1544.5 L1688,1534.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="1576" y="1551.5669">1: マネージャー</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="1576" y="1566.6997">2: チームリーダー</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1576" y="1581.8325">2: メンバー</text><path d="M1799,1542 L1799,1582.2656 A0,0 0 0 0 1799,1582.2656 L1901,1582.2656 A0,0 0 0 0 1901,1582.2656 L1901,1552 L1891,1542 L1854,1542 L1850,1459.02 L1846,1542 L1799,1542 A0,0 0 0 0 1799,1542 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1891,1542 L1891,1552 L1901,1552 L1891,1542 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="1805" y="1559.0669">1: 看護部</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="1805" y="1574.1997">2: リハビリ部</text><!--MD5=[974574cb1ae3b47966e90db496f42a34]
class schedules--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="227.2656" id="schedules" style="stroke: #A80036; stroke-width: 1.5;" width="376" x="1209" y="59.5"/><ellipse cx="1360.75" cy="75.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1364.8594,81.5 L1357.1406,81.5 L1357.1406,69.1094 L1364.8594,69.1094 L1364.8594,71.2656 L1359.5938,71.2656 L1359.5938,73.9375 L1364.3594,73.9375 L1364.3594,76.0938 L1359.5938,76.0938 L1359.5938,79.3438 L1364.8594,79.3438 L1364.8594,81.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1381.25" y="79.6543">schedules</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1210" x2="1584" y1="91.5" y2="91.5"/><ellipse cx="1220" cy="102.5" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="1229" y="105.7104">binary schedule_id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1210" x2="1584" y1="112.3047" y2="112.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="1215" y="126.5151">binary user_id "ユーザーID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="214" x="1215" y="139.3198">string title "予定のタイトル（NULL_OK)"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="1215" y="152.1245">binary schedule_type_id «FK» "予定の種類"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="347" x="1215" y="164.9292">binary recurring_schedule_id «FK»"繰り返し予定ID（NULL_OK)"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="263" x="1215" y="177.7339">binary visit_info_id «FK» "訪問情報ID(NULL_OK)"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="1215" y="190.5386">string description "予定の説明(NULL_OK)"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="1215" y="203.3433">datetime visit_date "予定日（YYYY-MM-DD）"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="1215" y="216.1479">datetime start_time "開始時間（HH:MM）"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="1215" y="228.9526">datetime end_time "終了時間（HH:MM）"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="344" x="1215" y="241.7573">boolean is_cancelled"キャンセルされたかどうか(default=false)"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="312" x="1215" y="254.562">boolean is_overtime_work "時間外勤務か(default=false)"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="341" x="1215" y="267.3667">datetime before_change_date "変更前の訪問日（YYYY-MM-DD"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="364" x="1215" y="280.1714">datetime before_change_start_time "変更前の開始時間（HH:MM）"</text><path d="M1239,407 L1239,462.3984 A0,0 0 0 0 1239,462.3984 L1585,462.3984 A0,0 0 0 0 1585,462.3984 L1585,417 L1575,407 L1358.33,407 L1354.33,286.56 L1350.33,407 L1239,407 A0,0 0 0 0 1239,407 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1575,407 L1575,417 L1585,417 L1575,407 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="1245" y="424.0669">繰り返し予定で特定の予定のみ変更された場合、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="1245" y="439.1997">このテーブルに新しいレコードを追加する</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="325" x="1245" y="454.3325">その際に、繰り返し予定のIDと変更前の日時を保存する</text><!--MD5=[5b96f930ea75387137104988349bd03f]
class schedule_types--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="73.6094" id="schedule_types" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="242" y="136"/><ellipse cx="286.25" cy="152" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M290.3594,158 L282.6406,158 L282.6406,145.6094 L290.3594,145.6094 L290.3594,147.7656 L285.0938,147.7656 L285.0938,150.4375 L289.8594,150.4375 L289.8594,152.5938 L285.0938,152.5938 L285.0938,155.8438 L290.3594,155.8438 L290.3594,158 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="306.75" y="156.1543">schedule_types</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="243" x2="435" y1="168" y2="168"/><ellipse cx="253" cy="179" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="262" y="182.2104">binary schedule_type_id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="435" y1="188.8047" y2="188.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="248" y="203.0151">string name "予定のタイプ名"</text><path d="M241.5,414.5 L241.5,454.7656 A0,0 0 0 0 241.5,454.7656 L330.5,454.7656 A0,0 0 0 0 330.5,454.7656 L330.5,424.5 L320.5,414.5 L290.25,414.5 L286.25,210.19 L282.25,414.5 L241.5,414.5 A0,0 0 0 0 241.5,414.5 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M320.5,414.5 L320.5,424.5 L330.5,424.5 L320.5,414.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="247.5" y="431.5669">1: 通常業務</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="247.5" y="446.6997">3: 訪問</text><!--MD5=[4bac50278a7bf155671162b306843454]
class schedule_cancels--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="99.2188" id="schedule_cancels" style="stroke: #A80036; stroke-width: 1.5;" width="284" x="920" y="385"/><ellipse cx="1002.25" cy="401" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1006.3594,407 L998.6406,407 L998.6406,394.6094 L1006.3594,394.6094 L1006.3594,396.7656 L1001.0938,396.7656 L1001.0938,399.4375 L1005.8594,399.4375 L1005.8594,401.5938 L1001.0938,401.5938 L1001.0938,404.8438 L1006.3594,404.8438 L1006.3594,407 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="1022.75" y="405.1543">schedule_cancels</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="921" x2="1203" y1="417" y2="417"/><ellipse cx="931" cy="428" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="940" y="431.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="921" x2="1203" y1="437.8047" y2="437.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="926" y="452.0151">binary schedule_id «FK» "キャンセルされた予定ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="926" y="464.8198">string cancel_reason "キャンセル理由"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="926" y="477.6245">datetime cancel_date "キャンセル日時"</text><!--MD5=[b9cd9f7342890dbd17bb89e9676ef692]
class recurring_rules--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="150.4375" id="recurring_rules" style="stroke: #A80036; stroke-width: 1.5;" width="276" x="474" y="595.5"/><ellipse cx="560.75" cy="611.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M564.8594,617.5 L557.1406,617.5 L557.1406,605.1094 L564.8594,605.1094 L564.8594,607.2656 L559.5938,607.2656 L559.5938,609.9375 L564.3594,609.9375 L564.3594,612.0938 L559.5938,612.0938 L559.5938,615.3438 L564.8594,615.3438 L564.8594,617.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="581.25" y="615.6543">recurring_rules</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="475" x2="749" y1="627.5" y2="627.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="480" y="641.7104">binary recurring_rule_id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="749" y1="648.3047" y2="648.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="480" y="662.5151">binary schedule_id: スケジュールID «FK»</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="480" y="675.3198">int frequency: "繰り返し頻度（monthly, weekly)"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="480" y="688.1245">int day_of_week: "曜日"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="480" y="700.9292">int day_of_month: "月の日"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="480" y="713.7339">int week_of_month: "月の週"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="480" y="726.5386">datetime start_date: "開始日"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="480" y="739.3433">datetime end_date: "終了日"</text><path d="M366,422 L366,447.1328 A0,0 0 0 0 366,447.1328 L524,447.1328 L528,595.22 L532,447.1328 L582,447.1328 A0,0 0 0 0 582,447.1328 L582,432 L572,422 L366,422 A0,0 0 0 0 366,422 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M572,422 L572,432 L582,432 L572,422 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="372" y="439.0669">繰り返し予定のルールを定義する</text><!--MD5=[797a6f84d7b864f3e98c7a18a9a69921]
class recurring_schedules--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="176.0469" id="recurring_schedules" style="stroke: #A80036; stroke-width: 1.5;" width="268" x="617" y="346.5"/><ellipse cx="683.25" cy="362.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M687.3594,368.5 L679.6406,368.5 L679.6406,356.1094 L687.3594,356.1094 L687.3594,358.2656 L682.0938,358.2656 L682.0938,360.9375 L686.8594,360.9375 L686.8594,363.0938 L682.0938,363.0938 L682.0938,366.3438 L687.3594,366.3438 L687.3594,368.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="127" x="703.75" y="366.6543">recurring_schedules</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="618" x2="884" y1="378.5" y2="378.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="623" y="392.7104">binary recurring_schedule_id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="618" x2="884" y1="399.3047" y2="399.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="623" y="413.5151">binary recurring_rule_id: "繰り返しルールID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="623" y="426.3198">binary schedule_type_id: "予定タイプID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="623" y="439.1245">binary visit_info_id: "訪問情報ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="256" x="623" y="451.9292">binary schedule_category_id: "予定カテゴリID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="623" y="464.7339">string title: "タイトル"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="623" y="477.5386">string description: "説明"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="623" y="490.3433">datetime visit_date: "訪問日"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="623" y="503.1479">datetime start_time: "開始時間"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="623" y="515.9526">datetime end_time: "終了時間"</text><path d="M571.5,153 L571.5,193.2656 A0,0 0 0 0 571.5,193.2656 L747,193.2656 L751,346.24 L755,193.2656 L930.5,193.2656 A0,0 0 0 0 930.5,193.2656 L930.5,163 L920.5,153 L571.5,153 A0,0 0 0 0 571.5,153 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M920.5,153 L920.5,163 L930.5,163 L920.5,153 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="577.5" y="170.0669">繰り返し予定の情報を保存する</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="338" x="577.5" y="185.1997">繰り返しタイプに基づいて、フロント側で予定を複製する</text><!--MD5=[d7d6b8ea598e54491e439553c4a99edb]
class addresses--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="150.4375" id="addresses" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="2181.5" y="820.5"/><ellipse cx="2226.75" cy="836.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2230.8594,842.5 L2223.1406,842.5 L2223.1406,830.1094 L2230.8594,830.1094 L2230.8594,832.2656 L2225.5938,832.2656 L2225.5938,834.9375 L2230.3594,834.9375 L2230.3594,837.0938 L2225.5938,837.0938 L2225.5938,840.3438 L2230.8594,840.3438 L2230.8594,842.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="2247.25" y="840.6543">addresses</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2182.5" x2="2345.5" y1="852.5" y2="852.5"/><ellipse cx="2192.5" cy="863.5" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="2201.5" y="866.7104">binary address_id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2182.5" x2="2345.5" y1="873.3047" y2="873.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="2187.5" y="887.5151">int zip_code "郵便番号"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="2187.5" y="900.3198">string prefecture "住所"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="2187.5" y="913.1245">string city "市区町村"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="2187.5" y="925.9292">string address_line1 "町名"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="2187.5" y="938.7339">string address_line2 "番地"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="2187.5" y="951.5386">string latitude "緯度"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="2187.5" y="964.3433">string longitude "経度"</text><!--MD5=[5f57dc4600bb33255e6857fe60f92832]
class patients--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="176.0469" id="patients" style="stroke: #A80036; stroke-width: 1.5;" width="274" x="1798" y="582.5"/><ellipse cx="1904.75" cy="598.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1908.8594,604.5 L1901.1406,604.5 L1901.1406,592.1094 L1908.8594,592.1094 L1908.8594,594.2656 L1903.5938,594.2656 L1903.5938,596.9375 L1908.3594,596.9375 L1908.3594,599.0938 L1903.5938,599.0938 L1903.5938,602.3438 L1908.8594,602.3438 L1908.8594,604.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="1925.25" y="602.6543">patients</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1799" x2="2071" y1="614.5" y2="614.5"/><ellipse cx="1809" cy="625.5" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="1818" y="628.7104">ulid patient_id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1799" x2="2071" y1="635.3047" y2="635.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="1804" y="649.5151">string name</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="1804" y="662.3198">string service_code_id "受けているサービス内容"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="227" x="1804" y="675.1245">string preferred_datetime "希望する日時"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="1804" y="687.9292">binary address_id «FK» "住所ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="1804" y="700.7339">string preferred_gender "希望する担当者の性別"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="1804" y="713.5386">string user_id «FK» "担当している看護師ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="253" x="1804" y="726.3433">string recurring_schedule_id "繰り返し予定ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="1804" y="739.1479">binary area_id «FK» "所属エリアID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="1804" y="751.9526">binary facility_id «FK» "施設ID"</text><path d="M1745,883 L1745,908.1328 A0,0 0 0 0 1745,908.1328 L2125,908.1328 A0,0 0 0 0 2125,908.1328 L2125,893 L2115,883 L1939,883 L1935,758.78 L1931,883 L1745,883 A0,0 0 0 0 1745,883 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2115,883 L2115,893 L2125,893 L2115,883 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="359" x="1751" y="900.0669">希望する日時は、午前・午後・指定なしの3つの選択肢がある</text><!--MD5=[8d41beee1a3a43cb45bc7f02531b65aa]
class visit_infos--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="150.4375" id="visit_infos" style="stroke: #A80036; stroke-width: 1.5;" width="310" x="2403" y="359.5"/><ellipse cx="2523.75" cy="375.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2527.8594,381.5 L2520.1406,381.5 L2520.1406,369.1094 L2527.8594,369.1094 L2527.8594,371.2656 L2522.5938,371.2656 L2522.5938,373.9375 L2527.3594,373.9375 L2527.3594,376.0938 L2522.5938,376.0938 L2522.5938,379.3438 L2527.8594,379.3438 L2527.8594,381.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="2544.25" y="379.6543">visit_infos</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2404" x2="2712" y1="391.5" y2="391.5"/><ellipse cx="2414" cy="402.5" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="2423" y="405.7104">binary visit_info_id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2404" x2="2712" y1="412.3047" y2="412.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="2409" y="426.5151">binary patient_id «FK» "患者ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="288" x="2409" y="439.3198">binary assigned_user_id «FK» "担当者ID（UserID）"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="298" x="2409" y="452.1245">binary companion_user_id «FK» "同行者ID（UserID）"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="2409" y="464.9292">binary schedule_category_id «FK» "訪問カテゴリ"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="2409" y="477.7339">binary route_id «FK» "ルートID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="2409" y="490.5386">binary service_code_id «FK» "サービスコードID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="2409" y="503.3433">int service_time "提供時間"</text><!--MD5=[974c6912de8d83cf8a8aca8903c83a0e]
class service_codes--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="service_codes" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="2704.5" y="627.5"/><ellipse cx="2740.65" cy="643.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2744.7594,649.5 L2737.0406,649.5 L2737.0406,637.1094 L2744.7594,637.1094 L2744.7594,639.2656 L2739.4938,639.2656 L2739.4938,641.9375 L2744.2594,641.9375 L2744.2594,644.0938 L2739.4938,644.0938 L2739.4938,647.3438 L2744.7594,647.3438 L2744.7594,649.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="2759.35" y="647.6543">service_codes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2705.5" x2="2870.5" y1="659.5" y2="659.5"/><ellipse cx="2715.5" cy="670.5" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="2724.5" y="673.7104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2705.5" x2="2870.5" y1="680.3047" y2="680.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="2710.5" y="694.5151">string code "サービスコード"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="2710.5" y="707.3198">int service_time "提供時間"</text><!--MD5=[4e5e1fd7835748d2130dd04f1359b45f]
class routes--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="99.2188" id="routes" style="stroke: #A80036; stroke-width: 1.5;" width="252" x="2417" y="621"/><ellipse cx="2518.25" cy="637" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2522.3594,643 L2514.6406,643 L2514.6406,630.6094 L2522.3594,630.6094 L2522.3594,632.7656 L2517.0938,632.7656 L2517.0938,635.4375 L2521.8594,635.4375 L2521.8594,637.5938 L2517.0938,637.5938 L2517.0938,640.8438 L2522.3594,640.8438 L2522.3594,643 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="2538.75" y="641.1543">routes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2418" x2="2668" y1="653" y2="653"/><ellipse cx="2428" cy="664" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="2437" y="667.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="2418" x2="2668" y1="673.8047" y2="673.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="2423" y="688.0151">int travel_time "移動時間"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="2423" y="700.8198">binary address_id «FK» "出発地の住所ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="2423" y="713.6245">binary destination_id «FK» "目的地の住所ID"</text><path d="M2770.5,864 L2770.5,927.3984 A0,0 0 0 0 2770.5,927.3984 L3025.5,927.3984 A0,0 0 0 0 3025.5,927.3984 L3025.5,874 L3015.5,864 L2825,864 L2821,713.62 L2817,864 L2770.5,864 A0,0 0 0 0 2770.5,864 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M3015.5,864 L3015.5,874 L3025.5,874 L3015.5,864 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="2776.5" y="881.0669">コードIDに応じてサービスコードを設定</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="2776.5" y="896.1997">1. 訪看I2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="2776.5" y="911.3325">2. 訪看I3</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="2771.5" x2="3024.5" y1="914.3984" y2="914.3984"/><!--MD5=[8aadc6119ebe9278695a1ee92697b8ea]
class visit_categories--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="73.6094" id="visit_categories" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="3012" y="633.5"/><ellipse cx="3046.35" cy="649.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M3050.4594,655.5 L3042.7406,655.5 L3042.7406,643.1094 L3050.4594,643.1094 L3050.4594,645.2656 L3045.1938,645.2656 L3045.1938,647.9375 L3049.9594,647.9375 L3049.9594,650.0938 L3045.1938,650.0938 L3045.1938,653.3438 L3050.4594,653.3438 L3050.4594,655.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="3064.65" y="653.6543">visit_categories</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3013" x2="3183" y1="665.5" y2="665.5"/><ellipse cx="3023" cy="676.5" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="3032" y="679.7104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="3013" x2="3183" y1="686.3047" y2="686.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="3018" y="700.5151">string name "予定のカテゴリ"</text><path d="M3060.5,845 L3060.5,945.7969 A0,0 0 0 0 3060.5,945.7969 L3345.5,945.7969 A0,0 0 0 0 3345.5,945.7969 L3345.5,855 L3335.5,845 L3126.25,845 L3122.25,707.65 L3118.25,845 L3060.5,845 A0,0 0 0 0 3060.5,845 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M3335.5,845 L3335.5,855 L3345.5,855 L3335.5,845 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="3066.5" y="862.0669">緊急訪問件数・入院件数をカウントする</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="3066.5" y="877.1997">複数選択するかどうかで、多:多の関係になる</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="3074.5" y="892.3325">1:夜勤</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="3074.5" y="907.4653">2:緊急</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="3074.5" y="922.5981">3:入院</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="3074.5" y="937.731">...</text><path d="M2403,879 L2403,912.1328 A0,0 0 0 0 2403,912.1328 L2735,912.1328 A0,0 0 0 0 2735,912.1328 L2735,889 L2725,879 L2547,879 L2543,720.16 L2539,879 L2403,879 A0,0 0 0 0 2403,879 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2725,879 L2725,889 L2735,889 L2725,879 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="2409" y="896.0669">出発地と目的地は、addressテーブルに対応させる？</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="2404" x2="2734" y1="899.1328" y2="899.1328"/><!--MD5=[215d8fd2e13580ab3e19cb9a9ec26cf7]
class labor_management_item_names--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="73.6094" id="labor_management_item_names" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="3402" y="1230"/><ellipse cx="3417" cy="1246" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M3421.1094,1252 L3413.3906,1252 L3413.3906,1239.6094 L3421.1094,1239.6094 L3421.1094,1241.7656 L3415.8438,1241.7656 L3415.8438,1244.4375 L3420.6094,1244.4375 L3420.6094,1246.5938 L3415.8438,1246.5938 L3415.8438,1249.8438 L3421.1094,1249.8438 L3421.1094,1252 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="202" x="3431" y="1250.1543">labor_management_item_names</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3403" x2="3635" y1="1262" y2="1262"/><ellipse cx="3413" cy="1273" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="3422" y="1276.2104">ulid id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="3403" x2="3635" y1="1282.8047" y2="1282.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="3408" y="1297.0151">string name "経営数値の項目名"</text><!--MD5=[b3f971dd0969b6794ac71d2f5710bb3b]
class labor_management_items--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="124.8281" id="labor_management_items" style="stroke: #A80036; stroke-width: 1.5;" width="375" x="3402.5" y="1030.5"/><ellipse cx="3505.25" cy="1046.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M3509.3594,1052.5 L3501.6406,1052.5 L3501.6406,1040.1094 L3509.3594,1040.1094 L3509.3594,1042.2656 L3504.0938,1042.2656 L3504.0938,1044.9375 L3508.8594,1044.9375 L3508.8594,1047.0938 L3504.0938,1047.0938 L3504.0938,1050.3438 L3509.3594,1050.3438 L3509.3594,1052.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="161" x="3525.75" y="1050.6543">labor_management_items</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3403.5" x2="3776.5" y1="1062.5" y2="1062.5"/><ellipse cx="3413.5" cy="1073.5" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="3422.5" y="1076.7104">ulid id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="3403.5" x2="3776.5" y1="1083.3047" y2="1083.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="3408.5" y="1097.5151">ulid facility_id «FK» "施設ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="3408.5" y="1110.3198">ulid monthly_labor_management_id «FK» "月次経営データID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="363" x="3408.5" y="1123.1245">ulid labor_management_item_name_id «FK» "経営数値の項目名ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="3408.5" y="1135.9292">int data "データ"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="3412.5" y="1148.7339"/><path d="M3671.5,1254.5 L3671.5,1279.6328 A0,0 0 0 0 3671.5,1279.6328 L4030.5,1279.6328 A0,0 0 0 0 4030.5,1279.6328 L4030.5,1264.5 L4020.5,1254.5 L3728.5,1254.5 L3724.5,1155.82 L3720.5,1254.5 L3671.5,1254.5 A0,0 0 0 0 3671.5,1254.5 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M4020.5,1254.5 L4020.5,1264.5 L4030.5,1264.5 L4020.5,1254.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="338" x="3677.5" y="1271.5669">算出はサーバーで行い、計算されたデータのみを保存する</text><!--MD5=[255092d6ec5a9d07ab66d39bec768e35]
class manthry_labor_managements--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="manthry_labor_managements" style="stroke: #A80036; stroke-width: 1.5;" width="217" x="3441.5" y="852.5"/><ellipse cx="3456.5" cy="868.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M3460.6094,874.5 L3452.8906,874.5 L3452.8906,862.1094 L3460.6094,862.1094 L3460.6094,864.2656 L3455.3438,864.2656 L3455.3438,866.9375 L3460.1094,866.9375 L3460.1094,869.0938 L3455.3438,869.0938 L3455.3438,872.3438 L3460.6094,872.3438 L3460.6094,874.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="185" x="3470.5" y="872.6543">manthry_labor_managements</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3442.5" x2="3657.5" y1="884.5" y2="884.5"/><ellipse cx="3452.5" cy="895.5" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="3461.5" y="898.7104">ulid id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="3442.5" x2="3657.5" y1="905.3047" y2="905.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="3447.5" y="919.5151">ulid facility_id «FK» "施設ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="3447.5" y="932.3198">date month "月"</text><!--MD5=[b6245c3b9fb71e5f96fc6befd4fbd7b3]
class policies--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="73.6094" id="policies" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="851" y="1379"/><ellipse cx="898.25" cy="1395" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M902.3594,1401 L894.6406,1401 L894.6406,1388.6094 L902.3594,1388.6094 L902.3594,1390.7656 L897.0938,1390.7656 L897.0938,1393.4375 L901.8594,1393.4375 L901.8594,1395.5938 L897.0938,1395.5938 L897.0938,1398.8438 L902.3594,1398.8438 L902.3594,1401 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="918.75" y="1399.1543">policies</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="852" x2="1000" y1="1411" y2="1411"/><ellipse cx="862" cy="1422" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="871" y="1425.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="852" x2="1000" y1="1431.8047" y2="1431.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="857" y="1446.0151">string name "ポリシー名"</text><!--MD5=[2f257e76f8e3329912bd507a0dd4f261]
class position_policies--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="position_policies" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="991.5" y="1519"/><ellipse cx="1035.3" cy="1535" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1039.4094,1541 L1031.6906,1541 L1031.6906,1528.6094 L1039.4094,1528.6094 L1039.4094,1530.7656 L1034.1438,1530.7656 L1034.1438,1533.4375 L1038.9094,1533.4375 L1038.9094,1535.5938 L1034.1438,1535.5938 L1034.1438,1538.8438 L1039.4094,1538.8438 L1039.4094,1541 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="1055.7" y="1539.1543">position_policies</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="992.5" x2="1189.5" y1="1551" y2="1551"/><ellipse cx="1002.5" cy="1562" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1011.5" y="1565.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="992.5" x2="1189.5" y1="1571.8047" y2="1571.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="997.5" y="1586.0151">binary position_id «FK» "役職ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="997.5" y="1598.8198">binary policy_id «FK» "ポリシーID"</text><path d="M911,1688 L911,1728.2656 A0,0 0 0 0 911,1728.2656 L1271,1728.2656 A0,0 0 0 0 1271,1728.2656 L1271,1698 L1261,1688 L1095,1688 L1091,1605.02 L1087,1688 L911,1688 A0,0 0 0 0 911,1688 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1261,1688 L1261,1698 L1271,1698 L1261,1688 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="917" y="1705.0669">役職ごとに設定されるデフォルトの権限</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="339" x="917" y="1720.1997">役職が追加・変更された際に、UserPolicyが上書きされる</text><!--MD5=[c4338755aabecda9480e1cd4778f674f]
class user_policies--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="user_policies" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="694.5" y="1519"/><ellipse cx="749.25" cy="1535" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M753.3594,1541 L745.6406,1541 L745.6406,1528.6094 L753.3594,1528.6094 L753.3594,1530.7656 L748.0938,1530.7656 L748.0938,1533.4375 L752.8594,1533.4375 L752.8594,1535.5938 L748.0938,1535.5938 L748.0938,1538.8438 L753.3594,1538.8438 L753.3594,1541 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="769.75" y="1539.1543">user_policies</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="695.5" x2="892.5" y1="1551" y2="1551"/><ellipse cx="705.5" cy="1562" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="714.5" y="1565.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="695.5" x2="892.5" y1="1571.8047" y2="1571.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="700.5" y="1586.0151">binary user_id «FK» "ユーザーID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="700.5" y="1598.8198">binary policy_id «FK» "ポリシーID"</text><path d="M363,1688 L363,1728.2656 L553,1728.2656 L553,1698 L543,1688 L363,1688 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M543,1688 L543,1698 L553,1698 L543,1688 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="369" y="1705.0669">ユーザーが持っている権限</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="369" y="1720.1997">認可にはこの情報を参照する</text><!--MD5=[b016a77ebb6b22a5d6d381114c43f7a5]
class user_policy_targets--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="86.4141" id="user_policy_targets" style="stroke: #A80036; stroke-width: 1.5;" width="288" x="588" y="1665"/><ellipse cx="667.25" cy="1681" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M671.3594,1687 L663.6406,1687 L663.6406,1674.6094 L671.3594,1674.6094 L671.3594,1676.7656 L666.0938,1676.7656 L666.0938,1679.4375 L670.8594,1679.4375 L670.8594,1681.5938 L666.0938,1681.5938 L666.0938,1684.8438 L671.3594,1684.8438 L671.3594,1687 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="687.75" y="1685.1543">user_policy_targets</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="589" x2="875" y1="1697" y2="1697"/><ellipse cx="599" cy="1708" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="608" y="1711.2104">binary id «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="589" x2="875" y1="1717.8047" y2="1717.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="263" x="594" y="1732.0151">binary user_policy_id «FK» "ユーザーポリシーID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="276" x="594" y="1744.8198">binary target_user_id «FK» "ターゲットユーザーID"</text><path d="M539.5,1811 L539.5,1851.2656 A0,0 0 0 0 539.5,1851.2656 L924.5,1851.2656 A0,0 0 0 0 924.5,1851.2656 L924.5,1821 L914.5,1811 L736,1811 L732,1751.02 L728,1811 L539.5,1811 A0,0 0 0 0 539.5,1811 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M914.5,1811 L914.5,1821 L924.5,1821 L914.5,1811 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="364" x="545.5" y="1828.0669">特定のユーザーポリシーに関連するターゲットユーザーの管理</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="545.5" y="1843.1997">例: カレンダーの閲覧対象ユーザー</text><!--MD5=[120dc14e603350f892542e63c88f8033]
class auth_users--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="124.8281" id="auth_users" style="stroke: #A80036; stroke-width: 1.5;" width="204" x="6" y="608"/><ellipse cx="68.75" cy="624" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M72.8594,630 L65.1406,630 L65.1406,617.6094 L72.8594,617.6094 L72.8594,619.7656 L67.5938,619.7656 L67.5938,622.4375 L72.3594,622.4375 L72.3594,624.5938 L67.5938,624.5938 L67.5938,627.8438 L72.8594,627.8438 L72.8594,630 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="89.25" y="628.1543">auth_users</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="209" y1="640" y2="640"/><ellipse cx="17" cy="651" fill="#000000" rx="3" ry="3" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="26" y="654.2104">string username "ユーザー名"</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="7" x2="209" y1="660.8047" y2="660.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="12" y="675.0151">string phone_number "電話番号"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="12" y="687.8198">ENUM('男性', '女性') gender "性別"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="12" y="700.6245">binary area_id «FK» "担当エリアID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="12" y="713.4292">binary position_id «FK» "役職ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="12" y="726.2339">binary team_id «FK» "チームID"</text><path d="M40.5,875.5 L40.5,915.7656 A0,0 0 0 0 40.5,915.7656 L175.5,915.7656 A0,0 0 0 0 175.5,915.7656 L175.5,885.5 L165.5,875.5 L112,875.5 L108,733.18 L104,875.5 L40.5,875.5 A0,0 0 0 0 40.5,875.5 " fill="#FBFB77" filter="url(#f14uttfdjeqxdd)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M165.5,875.5 L165.5,885.5 L175.5,885.5 L165.5,875.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="46.5" y="892.5669">Cognitoのユーザー</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="46.5" y="907.6997">DBにも保存しない</text><!--MD5=[903665769f157e20c63008847d5fc6f3]
class schedule_rules--><rect fill="#FEFECE" filter="url(#f14uttfdjeqxdd)" height="48" id="schedule_rules" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="1620" y="410.5"/><ellipse cx="1635" cy="426.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1637.9688,432.1406 Q1637.3906,432.4375 1636.75,432.5781 Q1636.1094,432.7344 1635.4063,432.7344 Q1632.9063,432.7344 1631.5781,431.0938 Q1630.2656,429.4375 1630.2656,426.3125 Q1630.2656,423.1875 1631.5781,421.5313 Q1632.9063,419.875 1635.4063,419.875 Q1636.1094,419.875 1636.75,420.0313 Q1637.4063,420.1875 1637.9688,420.4844 L1637.9688,423.2031 Q1637.3438,422.625 1636.75,422.3594 Q1636.1563,422.0781 1635.5313,422.0781 Q1634.1875,422.0781 1633.5,423.1563 Q1632.8125,424.2188 1632.8125,426.3125 Q1632.8125,428.4063 1633.5,429.4844 Q1634.1875,430.5469 1635.5313,430.5469 Q1636.1563,430.5469 1636.75,430.2813 Q1637.3438,430 1637.9688,429.4219 L1637.9688,432.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="1649" y="430.6543">schedule_rules</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1621" x2="1745" y1="442.5" y2="442.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1621" x2="1745" y1="450.5" y2="450.5"/><!--MD5=[000b65a505d04e8e1abc15e19cc62a92]
link auth_users to users--><path d="M192.75,740.08 C192.75,740.08 192.75,848 192.75,848 C192.75,848 867.29,848 867.29,848 " fill="none" id="auth_users-users" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="870.29" x2="870.29" y1="844" y2="852"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="867.29" x2="867.29" y1="844" y2="852"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="866.29" x2="874.29" y1="848" y2="848"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188.75" x2="196.75" y1="737.08" y2="737.08"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188.75" x2="196.75" y1="740.08" y2="740.08"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="192.75" x2="192.75" y1="741.08" y2="733.08"/><!--MD5=[4f03d378af5823bbda9586e91aedc750]
link users to positions--><path d="M1148.73,950 C1148.73,950 1526,950 1526,950 C1526,950 1526,1416 1526,1416 C1526,1416 1536.35,1416 1536.35,1416 " fill="none" id="users-positions" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1539.35" x2="1539.35" y1="1412" y2="1420"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1536.35" x2="1536.35" y1="1412" y2="1420"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1535.35" x2="1543.35" y1="1416" y2="1416"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1145.73" x2="1145.73" y1="954" y2="946"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1148.73" x2="1148.73" y1="954" y2="946"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1149.73" x2="1141.73" y1="950" y2="950"/><!--MD5=[9d7d3d0115a71511bd0e3ad08590d6fe]
link users to departments--><path d="M1148.92,929 C1148.92,929 1883.5,929 1883.5,929 C1883.5,929 1883.5,1365.78 1883.5,1365.78 " fill="none" id="users-departments" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1887.5" x2="1879.5" y1="1368.78" y2="1368.78"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1887.5" x2="1879.5" y1="1365.78" y2="1365.78"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1883.5" x2="1883.5" y1="1364.78" y2="1372.78"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1145.92" x2="1145.92" y1="933" y2="925"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1148.92" x2="1148.92" y1="933" y2="925"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1149.92" x2="1141.92" y1="929" y2="929"/><!--MD5=[6f64ef81625fd0818df9fd5c102df1cc]
link users to monthly_workings--><path d="M866.44,943 C866.44,943 790.25,943 790.25,943 C790.25,943 790.25,1028.72 790.25,1028.72 " fill="none" id="users-monthly_workings" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="790.25" x2="796.25" y1="1028.72" y2="1036.72"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="790.25" x2="784.25" y1="1028.72" y2="1036.72"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="790.25" x2="790.25" y1="1028.72" y2="1036.72"/><ellipse cx="790.25" cy="1022.72" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="870.44" x2="870.44" y1="939" y2="947"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="867.44" x2="867.44" y1="939" y2="947"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="866.44" x2="874.44" y1="943" y2="943"/><!--MD5=[57f25b467c94d79aa55e48ff40aa892f]
link users to facilities--><path d="M1148.54,940 C1148.54,940 1565.5,940 1565.5,940 C1565.5,940 1565.5,1216.91 1565.5,1216.91 " fill="none" id="users-facilities" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1569.5" x2="1561.5" y1="1219.91" y2="1219.91"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1569.5" x2="1561.5" y1="1216.91" y2="1216.91"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1565.5" x2="1565.5" y1="1215.91" y2="1223.91"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1145.54" x2="1145.54" y1="944" y2="936"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1148.54" x2="1148.54" y1="944" y2="936"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1149.54" x2="1141.54" y1="940" y2="940"/><!--MD5=[583137fe301841bd190b856b5b43cbbd]
link users to teams--><path d="M1148.65,961 C1148.65,961 1387.83,961 1387.83,961 C1387.83,961 1387.83,1365.78 1387.83,1365.78 " fill="none" id="users-teams" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1391.83" x2="1383.83" y1="1368.78" y2="1368.78"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1391.83" x2="1383.83" y1="1365.78" y2="1365.78"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1387.83" x2="1387.83" y1="1364.78" y2="1372.78"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1145.65" x2="1145.65" y1="965" y2="957"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1148.65" x2="1148.65" y1="965" y2="957"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1149.65" x2="1141.65" y1="961" y2="961"/><!--MD5=[df6f96c72ab0ecb1bd66d4c7e5ad8b41]
link users to areas--><path d="M1148.62,919 C1148.62,919 1995,919 1995,919 C1995,919 1995,1042.99 1995,1042.99 " fill="none" id="users-areas" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1999" x2="1991" y1="1045.99" y2="1045.99"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1999" x2="1991" y1="1042.99" y2="1042.99"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1995" x2="1995" y1="1041.99" y2="1049.99"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1145.62" x2="1145.62" y1="923" y2="915"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1148.62" x2="1148.62" y1="923" y2="915"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1149.62" x2="1141.62" y1="919" y2="919"/><!--MD5=[71fc5a0492f46b52026836a03787d46e]
link schedules to users--><path d="M1233,294.65 C1233,294.65 1233,852 1233,852 C1233,852 1149.81,852 1149.81,852 " fill="none" id="schedules-users" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1145.81" x2="1145.81" y1="856" y2="848"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1148.81" x2="1148.81" y1="856" y2="848"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1149.81" x2="1141.81" y1="852" y2="852"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1233" x2="1227" y1="294.65" y2="286.65"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1233" x2="1239" y1="294.65" y2="286.65"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1233" x2="1233" y1="294.65" y2="286.65"/><ellipse cx="1233" cy="300.65" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3fe5e276e884d9aeaf58fc38bc296c59]
link schedules to schedule_cancels--><path d="M1227,294.79 C1227,294.79 1227,396 1227,396 C1227,396 1212.06,396 1212.06,396 " fill="none" id="schedules-schedule_cancels" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1215.06" x2="1204.06" y1="396" y2="396"/><ellipse cx="1215.06" cy="396" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208.06" x2="1208.06" y1="400" y2="392"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1223" x2="1231" y1="290.79" y2="290.79"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1223" x2="1231" y1="293.79" y2="293.79"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1227" x2="1227" y1="294.79" y2="286.79"/><!--MD5=[3828d145f2e0b4014fec993708d6af22]
link schedules to schedule_rules--><path d="M1592.37,173 C1592.37,173 1683,173 1683,173 C1683,173 1683,403.37 1683,403.37 " fill="none" id="schedules-schedule_rules" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1687" x2="1679" y1="406.37" y2="406.37"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1687" x2="1679" y1="403.37" y2="403.37"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1683" x2="1683" y1="402.37" y2="410.37"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1589.37" x2="1589.37" y1="177" y2="169"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1592.37" x2="1592.37" y1="177" y2="169"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1593.37" x2="1585.37" y1="173" y2="173"/><!--MD5=[5cd28357095a326e2c79d26a4e581c54]
link schedules to recurring_schedules--><path d="M1215,294.74 C1215,294.74 1215,351 1215,351 C1215,351 893.21,351 893.21,351 " fill="none" id="schedules-recurring_schedules" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896.21" x2="885.21" y1="351" y2="351"/><ellipse cx="896.21" cy="351" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="889.21" x2="889.21" y1="355" y2="347"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1215" x2="1209" y1="294.74" y2="286.74"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1215" x2="1221" y1="294.74" y2="286.74"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1215" x2="1215" y1="294.74" y2="286.74"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1211" x2="1219" y1="296.74" y2="296.74"/><!--MD5=[7586d0c336d4098fc7d6971293f64c52]
link recurring_schedules to schedules--><path d="M893.05,356 C893.05,356 1221,356 1221,356 C1221,356 1221,294.55 1221,294.55 " fill="none" id="recurring_schedules-schedules" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1221" x2="1215" y1="294.55" y2="286.55"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1221" x2="1227" y1="294.55" y2="286.55"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1221" x2="1221" y1="294.55" y2="286.55"/><ellipse cx="1221" cy="300.55" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="889.05" x2="889.05" y1="360" y2="352"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="892.05" x2="892.05" y1="360" y2="352"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="893.05" x2="885.05" y1="356" y2="356"/><!--MD5=[5b341626f80826ad54f570b4464b5a56]
link schedules to visit_infos--><path d="M1469.67,294.73 C1469.67,294.73 1469.67,373 1469.67,373 C1469.67,373 2394.94,373 2394.94,373 " fill="none" id="schedules-visit_infos" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2391.94" x2="2402.94" y1="373" y2="373"/><ellipse cx="2391.94" cy="373" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2398.94" x2="2398.94" y1="369" y2="377"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1465.67" x2="1473.67" y1="290.73" y2="290.73"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1465.67" x2="1473.67" y1="293.73" y2="293.73"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1469.67" x2="1469.67" y1="294.73" y2="286.73"/><!--MD5=[f242e27a6ff7d0d6ad443347d3c0e96e]
link recurring_schedules to recurring_rules--><path d="M683.5,529.71 C683.5,529.71 683.5,588.16 683.5,588.16 " fill="none" id="recurring_schedules-recurring_rules" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="687.5" x2="679.5" y1="591.16" y2="591.16"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="687.5" x2="679.5" y1="588.16" y2="588.16"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683.5" x2="683.5" y1="587.16" y2="595.16"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679.5" x2="687.5" y1="526.71" y2="526.71"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679.5" x2="687.5" y1="529.71" y2="529.71"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="683.5" x2="683.5" y1="530.71" y2="522.71"/><!--MD5=[f7f397b51a8c105ad9019a9ac01ddb07]
link recurring_schedules to visit_infos--><path d="M892.34,497 C892.34,497 2395.81,497 2395.81,497 " fill="none" id="recurring_schedules-visit_infos" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2398.81" x2="2398.81" y1="493" y2="501"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2395.81" x2="2395.81" y1="493" y2="501"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2394.81" x2="2402.81" y1="497" y2="497"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="889.34" x2="889.34" y1="501" y2="493"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="892.34" x2="892.34" y1="501" y2="493"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="893.34" x2="885.34" y1="497" y2="497"/><!--MD5=[53b8d5c155bb77d592ab98df4467b58b]
link visit_infos to service_codes--><path d="M2708.75,516.82 C2708.75,516.82 2708.75,620.45 2708.75,620.45 " fill="none" id="visit_infos-service_codes" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2712.75" x2="2704.75" y1="623.45" y2="623.45"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2712.75" x2="2704.75" y1="620.45" y2="620.45"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2708.75" x2="2708.75" y1="619.45" y2="627.45"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2704.75" x2="2712.75" y1="513.82" y2="513.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2704.75" x2="2712.75" y1="516.82" y2="516.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2708.75" x2="2708.75" y1="517.82" y2="509.82"/><!--MD5=[53b8d5c155bb77d592ab98df4467b58b]
link visit_infos to service_codes--><path d="M2710.88,516.82 C2710.88,516.82 2710.88,620.45 2710.88,620.45 " fill="none" id="visit_infos-service_codes-1" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2714.88" x2="2706.88" y1="623.45" y2="623.45"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2714.88" x2="2706.88" y1="620.45" y2="620.45"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2710.88" x2="2710.88" y1="619.45" y2="627.45"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2706.88" x2="2714.88" y1="513.82" y2="513.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2706.88" x2="2714.88" y1="516.82" y2="516.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2710.88" x2="2710.88" y1="517.82" y2="509.82"/><!--MD5=[1e54e2c799655c2a2b6ce00a54fef805]
link visit_infos to patients--><path d="M2407.67,516.57 C2407.67,516.57 2407.67,593 2407.67,593 C2407.67,593 2079.03,593 2079.03,593 " fill="none" id="visit_infos-patients" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2076.03" x2="2076.03" y1="597" y2="589"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2079.03" x2="2079.03" y1="597" y2="589"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2080.03" x2="2072.03" y1="593" y2="593"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2403.67" x2="2411.67" y1="513.57" y2="513.57"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2403.67" x2="2411.67" y1="516.57" y2="516.57"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2407.67" x2="2407.67" y1="517.57" y2="509.57"/><!--MD5=[1e54e2c799655c2a2b6ce00a54fef805]
link visit_infos to patients--><path d="M2412.33,516.92 C2412.33,516.92 2412.33,602 2412.33,602 C2412.33,602 2079.1,602 2079.1,602 " fill="none" id="visit_infos-patients-1" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2076.1" x2="2076.1" y1="606" y2="598"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2079.1" x2="2079.1" y1="606" y2="598"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2080.1" x2="2072.1" y1="602" y2="602"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2408.33" x2="2416.33" y1="513.92" y2="513.92"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2408.33" x2="2416.33" y1="516.92" y2="516.92"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2412.33" x2="2412.33" y1="517.92" y2="509.92"/><!--MD5=[00c9d5881ccfb62228fb4fbc007c8088]
link visit_infos to routes--><path d="M2501,516.82 C2501,516.82 2501,613.8 2501,613.8 " fill="none" id="visit_infos-routes" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2505" x2="2497" y1="616.8" y2="616.8"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2505" x2="2497" y1="613.8" y2="613.8"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2501" x2="2501" y1="612.8" y2="620.8"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2497" x2="2505" y1="513.82" y2="513.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2497" x2="2505" y1="516.82" y2="516.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2501" x2="2501" y1="517.82" y2="509.82"/><!--MD5=[00c9d5881ccfb62228fb4fbc007c8088]
link visit_infos to routes--><path d="M2585,516.82 C2585,516.82 2585,613.8 2585,613.8 " fill="none" id="visit_infos-routes-1" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2589" x2="2581" y1="616.8" y2="616.8"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2589" x2="2581" y1="613.8" y2="613.8"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2585" x2="2585" y1="612.8" y2="620.8"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2581" x2="2589" y1="513.82" y2="513.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2581" x2="2589" y1="516.82" y2="516.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2585" x2="2585" y1="517.82" y2="509.82"/><!--MD5=[7e50c4e28511e5786c68e5dd52f3e12a]
link routes to addresses--><path d="M2408.88,671 C2408.88,671 2291.5,671 2291.5,671 C2291.5,671 2291.5,812.43 2291.5,812.43 " fill="none" id="routes-addresses" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2291.5" x2="2297.5" y1="812.43" y2="820.43"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2291.5" x2="2285.5" y1="812.43" y2="820.43"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2291.5" x2="2291.5" y1="812.43" y2="820.43"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2295.5" x2="2287.5" y1="810.43" y2="810.43"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2412.88" x2="2412.88" y1="667" y2="675"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2409.88" x2="2409.88" y1="667" y2="675"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2408.88" x2="2416.88" y1="671" y2="671"/><!--MD5=[6134c43b02206a795dd4d994d365949b]
link addresses to areas--><path d="M2264,978.72 C2264,978.72 2264,1108 2264,1108 C2264,1108 2097.08,1108 2097.08,1108 " fill="none" id="addresses-areas" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2097.08" x2="2089.08" y1="1108" y2="1114"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2097.08" x2="2089.08" y1="1108" y2="1102"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2097.08" x2="2089.08" y1="1108" y2="1108"/><ellipse cx="2103.08" cy="1108" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2264" x2="2258" y1="978.72" y2="970.72"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2264" x2="2270" y1="978.72" y2="970.72"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2264" x2="2264" y1="978.72" y2="970.72"/><ellipse cx="2264" cy="984.72" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[aa6f8967de65dad5a5f15114dc08c192]
link areas to facilities--><path d="M1920.75,1144.41 C1920.75,1144.41 1920.75,1255 1920.75,1255 C1920.75,1255 1746.32,1255 1746.32,1255 " fill="none" id="areas-facilities" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1742.32" x2="1742.32" y1="1259" y2="1251"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1745.32" x2="1745.32" y1="1259" y2="1251"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1746.32" x2="1738.32" y1="1255" y2="1255"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1920.75" x2="1914.75" y1="1144.41" y2="1136.41"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1920.75" x2="1926.75" y1="1144.41" y2="1136.41"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1920.75" x2="1920.75" y1="1144.41" y2="1136.41"/><ellipse cx="1920.75" cy="1150.41" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4537bfc987a93aa741d05391f7939a39]
link manthry_labor_managements to labor_management_items--><path d="M3550,946.84 C3550,946.84 3550,1022.27 3550,1022.27 " fill="none" id="manthry_labor_managements-labor_management_items" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3550" x2="3556" y1="1022.27" y2="1030.27"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3550" x2="3544" y1="1022.27" y2="1030.27"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3550" x2="3550" y1="1022.27" y2="1030.27"/><ellipse cx="3550" cy="1016.27" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3546" x2="3554" y1="942.84" y2="942.84"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3546" x2="3554" y1="945.84" y2="945.84"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3550" x2="3550" y1="946.84" y2="938.84"/><!--MD5=[9f5f2f43e217666ed2a41ff8415a57ae]
link manthry_labor_managements to facilities--><path d="M3434.39,896 C3434.39,896 3373.75,896 3373.75,896 C3373.75,896 3373.75,1280 3373.75,1280 C3373.75,1280 1745.19,1280 1745.19,1280 " fill="none" id="manthry_labor_managements-facilities" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1742.19" x2="1742.19" y1="1284" y2="1276"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1745.19" x2="1745.19" y1="1284" y2="1276"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1746.19" x2="1738.19" y1="1280" y2="1280"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3437.39" x2="3437.39" y1="892" y2="900"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3434.39" x2="3434.39" y1="892" y2="900"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3433.39" x2="3441.39" y1="896" y2="896"/><!--MD5=[c59bf798f68234d85cfd3e991f528a2f]
link labor_management_items to labor_management_item_names--><path d="M3519.25,1163.82 C3519.25,1163.82 3519.25,1221.85 3519.25,1221.85 " fill="none" id="labor_management_items-labor_management_item_names" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3523.25" x2="3515.25" y1="1225.85" y2="1225.85"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3523.25" x2="3515.25" y1="1222.85" y2="1222.85"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3519.25" x2="3519.25" y1="1221.85" y2="1229.85"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3519.25" x2="3513.25" y1="1163.82" y2="1155.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3519.25" x2="3525.25" y1="1163.82" y2="1155.82"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3519.25" x2="3519.25" y1="1163.82" y2="1155.82"/><ellipse cx="3519.25" cy="1169.82" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b7350ec08d8ddb4f99f4e80ab40fe1af]
link labor_management_items to facilities--><path d="M3395.47,1143 C3395.47,1143 1706,1143 1706,1143 C1706,1143 1706,1216.98 1706,1216.98 " fill="none" id="labor_management_items-facilities" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1710" x2="1702" y1="1219.98" y2="1219.98"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1710" x2="1702" y1="1216.98" y2="1216.98"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1706" x2="1706" y1="1215.98" y2="1223.98"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3398.47" x2="3398.47" y1="1139" y2="1147"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3395.47" x2="3395.47" y1="1139" y2="1147"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3394.47" x2="3402.47" y1="1143" y2="1143"/><!--MD5=[d822adadb8a8e444c39cc03d9cfb0ca5]
link patients to facilities--><path d="M1790.75,755 C1790.75,755 1647,755 1647,755 C1647,755 1647,1216.79 1647,1216.79 " fill="none" id="patients-facilities" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1651" x2="1643" y1="1219.79" y2="1219.79"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1651" x2="1643" y1="1216.79" y2="1216.79"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1647" x2="1647" y1="1215.79" y2="1223.79"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1793.75" x2="1793.75" y1="751" y2="759"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1790.75" x2="1790.75" y1="751" y2="759"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1789.75" x2="1797.75" y1="755" y2="755"/><!--MD5=[3691b9c2aba943b1ed03f4f34a97bfe2]
link patients to areas--><path d="M2079.29,746 C2079.29,746 2153.25,746 2153.25,746 C2153.25,746 2153.25,1079 2153.25,1079 C2153.25,1079 2096.34,1079 2096.34,1079 " fill="none" id="patients-areas" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2093.34" x2="2093.34" y1="1083" y2="1075"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2096.34" x2="2096.34" y1="1083" y2="1075"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2097.34" x2="2089.34" y1="1079" y2="1079"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2076.29" x2="2076.29" y1="750" y2="742"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2079.29" x2="2079.29" y1="750" y2="742"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2080.29" x2="2072.29" y1="746" y2="746"/><!--MD5=[5ca2b119c8b95754b79f9a96772bdf96]
link patients to addresses--><path d="M2079.08,733 C2079.08,733 2236.5,733 2236.5,733 C2236.5,733 2236.5,813.43 2236.5,813.43 " fill="none" id="patients-addresses" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2240.5" x2="2232.5" y1="816.43" y2="816.43"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2240.5" x2="2232.5" y1="813.43" y2="813.43"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2236.5" x2="2236.5" y1="812.43" y2="820.43"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2076.08" x2="2076.08" y1="737" y2="729"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2079.08" x2="2079.08" y1="737" y2="729"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2080.08" x2="2072.08" y1="733" y2="733"/><!--MD5=[af8c97b1e191fdfcbe41f78c35418c66]
link patients to service_codes--><path d="M2079.06,612 C2079.06,612 2706.62,612 2706.62,612 C2706.62,612 2706.62,620.37 2706.62,620.37 " fill="none" id="patients-service_codes" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2710.62" x2="2702.62" y1="623.37" y2="623.37"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2710.62" x2="2702.62" y1="620.37" y2="620.37"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2706.62" x2="2706.62" y1="619.37" y2="627.37"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2076.06" x2="2076.06" y1="616" y2="608"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2079.06" x2="2079.06" y1="616" y2="608"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2080.06" x2="2072.06" y1="612" y2="612"/><!--MD5=[bf57a974b7f8fc277764811bf0957b96]
link patients to users--><path d="M1790.66,750 C1790.66,750 1030.75,750 1030.75,750 C1030.75,750 1030.75,813.19 1030.75,813.19 " fill="none" id="patients-users" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1034.75" x2="1026.75" y1="816.19" y2="816.19"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1034.75" x2="1026.75" y1="813.19" y2="813.19"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1030.75" x2="1030.75" y1="812.19" y2="820.19"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1793.66" x2="1793.66" y1="746" y2="754"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1790.66" x2="1790.66" y1="746" y2="754"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1789.66" x2="1797.66" y1="750" y2="750"/><!--MD5=[8dad19ce277694d695ae3d525c556b5a]
link patients to recurring_schedules--><path d="M1790.86,589 C1790.86,589 879.75,589 879.75,589 C879.75,589 879.75,529.58 879.75,529.58 " fill="none" id="patients-recurring_schedules" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="875.75" x2="883.75" y1="526.58" y2="526.58"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="875.75" x2="883.75" y1="529.58" y2="529.58"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="879.75" x2="879.75" y1="530.58" y2="522.58"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1793.86" x2="1793.86" y1="585" y2="593"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1790.86" x2="1790.86" y1="585" y2="593"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1789.86" x2="1797.86" y1="589" y2="589"/><!--MD5=[d003f8a37d44c07b31f31fd69ff98ac7]
link facilities to positions--><path d="M1635.25,1317.1 C1635.25,1317.1 1635.25,1366 1635.25,1366 " fill="none" id="facilities-positions" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1639.25" x2="1631.25" y1="1369" y2="1369"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1639.25" x2="1631.25" y1="1366" y2="1366"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1635.25" x2="1635.25" y1="1365" y2="1373"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1631.25" x2="1639.25" y1="1314.1" y2="1314.1"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1631.25" x2="1639.25" y1="1317.1" y2="1317.1"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1635.25" x2="1635.25" y1="1318.1" y2="1310.1"/><!--MD5=[d6b85d7eafd4f84b541639795a90d001]
link facilities to teams--><path d="M1538.94,1267 C1538.94,1267 1448.17,1267 1448.17,1267 C1448.17,1267 1448.17,1365.9 1448.17,1365.9 " fill="none" id="facilities-teams" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1452.17" x2="1444.17" y1="1368.9" y2="1368.9"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1452.17" x2="1444.17" y1="1365.9" y2="1365.9"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1448.17" x2="1448.17" y1="1364.9" y2="1372.9"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1541.94" x2="1541.94" y1="1263" y2="1271"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1538.94" x2="1538.94" y1="1263" y2="1271"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1537.94" x2="1545.94" y1="1267" y2="1267"/><!--MD5=[b787ca73dabe4b02a8b51bcd16472646]
link facilities to departments--><path d="M1731.25,1317.1 C1731.25,1317.1 1731.25,1416 1731.25,1416 C1731.25,1416 1752.39,1416 1752.39,1416 " fill="none" id="facilities-departments" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1755.39" x2="1755.39" y1="1412" y2="1420"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1752.39" x2="1752.39" y1="1412" y2="1420"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1751.39" x2="1759.39" y1="1416" y2="1416"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1727.25" x2="1735.25" y1="1314.1" y2="1314.1"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1727.25" x2="1735.25" y1="1317.1" y2="1317.1"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1731.25" x2="1731.25" y1="1318.1" y2="1310.1"/><!--MD5=[39ef68f867323a8522e4cf105899aeb5]
link user_policies to GMN104--><path d="M694.32,1562 C613.69,1562 513.5,1562 513.5,1562 C513.5,1562 513.5,1647.58 513.5,1687.7 " fill="none" id="user_policies-GMN104" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[08487274bbb669543550a1d509544c9e]
link policies to position_policies--><path d="M996.25,1461.22 C996.25,1461.22 996.25,1510.89 996.25,1510.89 " fill="none" id="policies-position_policies" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="996.25" x2="1002.25" y1="1510.89" y2="1518.89"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="996.25" x2="990.25" y1="1510.89" y2="1518.89"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="996.25" x2="996.25" y1="1510.89" y2="1518.89"/><ellipse cx="996.25" cy="1504.89" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="992.25" x2="1000.25" y1="1457.22" y2="1457.22"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="992.25" x2="1000.25" y1="1460.22" y2="1460.22"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="996.25" x2="996.25" y1="1461.22" y2="1453.22"/><!--MD5=[3e410c4ca1440bafa1af5caeb2914890]
link policies to user_policies--><path d="M872.25,1461.22 C872.25,1461.22 872.25,1510.89 872.25,1510.89 " fill="none" id="policies-user_policies" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.25" x2="878.25" y1="1510.89" y2="1518.89"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.25" x2="866.25" y1="1510.89" y2="1518.89"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.25" x2="872.25" y1="1510.89" y2="1518.89"/><ellipse cx="872.25" cy="1504.89" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="868.25" x2="876.25" y1="1457.22" y2="1457.22"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="868.25" x2="876.25" y1="1460.22" y2="1460.22"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.25" x2="872.25" y1="1461.22" y2="1453.22"/><!--MD5=[60eea88c16a8b6e32b999ef7f1b2f856]
link users to user_policies--><path d="M866.19,957 C866.19,957 840.75,957 840.75,957 C840.75,957 840.75,1510.97 840.75,1510.97 " fill="none" id="users-user_policies" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="840.75" x2="846.75" y1="1510.97" y2="1518.97"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="840.75" x2="834.75" y1="1510.97" y2="1518.97"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="840.75" x2="840.75" y1="1510.97" y2="1518.97"/><ellipse cx="840.75" cy="1504.97" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="870.19" x2="870.19" y1="953" y2="961"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="867.19" x2="867.19" y1="953" y2="961"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="866.19" x2="874.19" y1="957" y2="957"/><!--MD5=[287a4fc58412cac724cea39acf313a9f]
link positions to position_policies--><path d="M1556.75,1467.23 C1556.75,1467.23 1556.75,1527 1556.75,1527 C1556.75,1527 1198.63,1527 1198.63,1527 " fill="none" id="positions-position_policies" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1198.63" x2="1190.63" y1="1527" y2="1533"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1198.63" x2="1190.63" y1="1527" y2="1521"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1198.63" x2="1190.63" y1="1527" y2="1527"/><ellipse cx="1204.63" cy="1527" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1552.75" x2="1560.75" y1="1463.23" y2="1463.23"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1552.75" x2="1560.75" y1="1466.23" y2="1466.23"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1556.75" x2="1556.75" y1="1467.23" y2="1459.23"/><!--MD5=[b76c18be5ef248a587318f3ae98b6419]
link user_policies to user_policy_targets--><path d="M785.25,1613.02 C785.25,1613.02 785.25,1656.79 785.25,1656.79 " fill="none" id="user_policies-user_policy_targets" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="785.25" x2="791.25" y1="1656.79" y2="1664.79"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="785.25" x2="779.25" y1="1656.79" y2="1664.79"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="785.25" x2="785.25" y1="1656.79" y2="1664.79"/><ellipse cx="785.25" cy="1650.79" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="781.25" x2="789.25" y1="1609.02" y2="1609.02"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="781.25" x2="789.25" y1="1612.02" y2="1612.02"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="785.25" x2="785.25" y1="1613.02" y2="1605.02"/><!--MD5=[642326cadcde8dc177b835bc50c8ca0b]
link users to user_policy_targets--><path d="M866.28,930 C866.28,930 598.75,930 598.75,930 C598.75,930 598.75,1656.78 598.75,1656.78 " fill="none" id="users-user_policy_targets" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="598.75" x2="604.75" y1="1656.78" y2="1664.78"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="598.75" x2="592.75" y1="1656.78" y2="1664.78"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="598.75" x2="598.75" y1="1656.78" y2="1664.78"/><ellipse cx="598.75" cy="1650.78" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="870.28" x2="870.28" y1="926" y2="934"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="867.28" x2="867.28" y1="926" y2="934"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="866.28" x2="874.28" y1="930" y2="930"/><!--MD5=[564161c1a93edaa5f7e96e5d8dfb7e9d]
link visit_infos to visit_categories--><path d="M2721.1,435 C2721.1,435 3098,435 3098,435 C3098,435 3098,625.44 3098,625.44 " fill="none" id="visit_infos-visit_categories" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3098" x2="3104" y1="625.44" y2="633.44"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3098" x2="3092" y1="625.44" y2="633.44"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3098" x2="3098" y1="625.44" y2="633.44"/><ellipse cx="3098" cy="619.44" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2721.1" x2="2713.1" y1="435" y2="441"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2721.1" x2="2713.1" y1="435" y2="429"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2721.1" x2="2713.1" y1="435" y2="435"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2723.1" x2="2723.1" y1="439" y2="431"/><!--MD5=[07c77a48b4871ed19c623bf381dc38c7]
@startuml entity-relationship-diagram
skinparam linetype ortho
skinparam linetype ortho

entity auth_users {
  * string username "ユーザー名"
  - -
  string phone_number "電話番号"
  ENUM('男性', '女性') gender "性別"
  binary area_id <<FK>> "担当エリアID"
  binary position_id <<FK>> "役職ID"
  binary team_id <<FK>> "チームID"
}

note bottom of auth_users
  Cognitoのユーザー
  DBにも保存しない
end note

package 職員情報 {
  entity users {
    * binary id <<PK>>
    - -
    binary auth_user_id <<FK>> "CognitoユーザーID"
    string username "ユーザー名"
    string phone_number "電話番号"
    ENUM('男性', '女性') gender "性別"
    binary area_id <<FK>> "担当エリアID"
    binary position_id <<FK>> "役職ID"
    binary team_id <<FK>> "チームID"
  }

  note bottom of users
    性別は、男性・女性・の2つの選択肢がある
    1. 男性
    2. 女性
  end note

  entity monthly_workings {
    * binary working_data_id <<PK>>
    - -
    binary user_id <<FK>>
    date month "稼働時間の月"
    int monthly_visit_count "月の訪問回数"
    int work_hours "勤務時間"
  }
}

package エリア {
  entity areas
}

package 施設情報 {
  entity facilities
  entity teams
  entity positions
  entity departments
}

auth_users ||- -|| users
users ||- -|| positions
users ||- -|| departments
users ||- -o{ monthly_workings
users ||- -|| facilities
users ||- -|| teams
users ||- -|| areas

skinparam linetype ortho

package 予定 {
  entity schedules {
    * binary schedule_id <<PK>>
    - -
    binary user_id "ユーザーID"
    string title "予定のタイトル（NULL_OK)"
    binary schedule_type_id <<FK>> "予定の種類"
    binary recurring_schedule_id <<FK>>"繰り返し予定ID（NULL_OK)"
    binary visit_info_id <<FK>> "訪問情報ID(NULL_OK)"
    string description "予定の説明(NULL_OK)"
    datetime visit_date "予定日（YYYY-MM-DD）"
    datetime start_time "開始時間（HH:MM）"
    datetime end_time "終了時間（HH:MM）"
    boolean is_cancelled"キャンセルされたかどうか(default=false)"
    boolean is_overtime_work "時間外勤務か(default=false)"
    datetime before_change_date "変更前の訪問日（YYYY-MM-DD"
    datetime before_change_start_time "変更前の開始時間（HH:MM）"
  }

  note bottom of schedules
    繰り返し予定で特定の予定のみ変更された場合、
    このテーブルに新しいレコードを追加する
    その際に、繰り返し予定のIDと変更前の日時を保存する
  end note

  entity schedule_types {
    * binary schedule_type_id <<PK>>
    - -
    string name "予定のタイプ名"
  }

  note bottom of schedule_types
    1: 通常業務
    3: 訪問
  end note

  entity schedule_cancels {
    * binary id <<PK>>
    - -
    binary schedule_id <<FK>> "キャンセルされた予定ID"
    string cancel_reason "キャンセル理由"
    datetime cancel_date "キャンセル日時"
  }

  entity recurring_rules {
    binary recurring_rule_id <<PK>>
    - -
    binary schedule_id: スケジュールID <<FK>>
    int frequency: "繰り返し頻度（monthly, weekly)"
    int day_of_week: "曜日"
    int day_of_month: "月の日"
    int week_of_month: "月の週"
    datetime start_date: "開始日"
    datetime end_date: "終了日"
  }
  note top of recurring_rules
  繰り返し予定のルールを定義する
  end note

  entity recurring_schedules {
    binary recurring_schedule_id <<PK>>
    - -
    binary recurring_rule_id: "繰り返しルールID"
    binary schedule_type_id: "予定タイプID"
    binary visit_info_id: "訪問情報ID"
    binary schedule_category_id: "予定カテゴリID"
    string title: "タイトル"
    string description: "説明"
    datetime visit_date: "訪問日"
    datetime start_time: "開始時間"
    datetime end_time: "終了時間"
  }
  note top of recurring_schedules
    繰り返し予定の情報を保存する
    繰り返しタイプに基づいて、フロント側で予定を複製する
  end note
}

package 住所 {
  entity addresses
}

package 職員情報 {
  entity users {
  }
}

package 患者情報 {
  entity patients {
  }
}

package 訪問情報 {
  entity visit_infos {
  }
  entity service_codes {
  }
  entity routes {
  }
}

schedules }o- -|| users
schedules ||- -o| schedule_cancels
schedules ||- -|| schedule_rules
schedules }|- -o| recurring_schedules
schedules ||- -o| visit_infos
recurring_schedules ||- -o{ schedules
recurring_schedules ||- -|| recurring_rules
recurring_schedules ||- -|| visit_infos
visit_infos ||- -|| service_codes
visit_infos ||- -|| patients
visit_infos ||- -|| routes
routes ||- -|{ addresses

skinparam linetype ortho

package 施設情報 {
  entity facilities
}

package 住所 {
  entity addresses {
    * binary address_id <<PK>>
    - -
    int zip_code "郵便番号"
    string prefecture "住所"
    string city "市区町村"
    string address_line1 "町名"
    string address_line2 "番地"
    string latitude "緯度"
    string longitude "経度"
  }
}

package エリア {
  entity areas {
    * binary id <<PK>>
    - -
    string area_code "地域エリア名"
    binary facility_id <<FK>> "施設ID"
  }

  entity areas_addresses {
    * binary id <<PK>>
    - -
    binary area_id <<FK>> "エリアID"
    binary address_id <<FK>> "住所ID"
  }
}

addresses }o- -o{ areas
areas }o- -|| facilities


skinparam linetype ortho

package 経営データ {
  entity labor_management_item_names {
    * ulid id <<PK>>
    - -
    string name "経営数値の項目名"
  }

  entity labor_management_items {
    * ulid id <<PK>>
    - -
    ulid facility_id <<FK>> "施設ID"
    ulid monthly_labor_management_id <<FK>> "月次経営データID"
    ulid labor_management_item_name_id <<FK>> "経営数値の項目名ID"
    int data "データ"

  }

  note bottom of labor_management_items
  算出はサーバーで行い、計算されたデータのみを保存する
  end note

  entity manthry_labor_managements {
    * ulid id <<PK>>
    - -
    ulid facility_id <<FK>> "施設ID"
    date month "月"
  }
}

package 施設情報 {
  entity facilities {
  }
}


manthry_labor_managements ||- -o{ labor_management_items
manthry_labor_managements ||- -|| facilities
labor_management_items }o- -|| labor_management_item_names
labor_management_items ||- -|| facilities

skinparam linetype ortho

package 患者情報 {
  entity patients {
    * ulid patient_id <<PK>>
    - -
    string name
    string service_code_id "受けているサービス内容"
    string preferred_datetime "希望する日時"
    binary address_id <<FK>> "住所ID"
    string preferred_gender "希望する担当者の性別"
    string user_id <<FK>> "担当している看護師ID"
    string recurring_schedule_id "繰り返し予定ID"
    binary area_id <<FK>> "所属エリアID"
    binary facility_id <<FK>> "施設ID"
  }
  note bottom of patients
  希望する日時は、午前・午後・指定なしの3つの選択肢がある
  end note
}

package 住所 {
  entity addresses
}

package エリア {
  entity areas
}

package 施設情報 {
  entity facilities
}

package 職員情報 {
  entity users
}

package 予定 {
  entity recurring_schedules
}

package 訪問情報 {
  entity service_codes
}

patients ||- -|| facilities
patients ||- -|| areas
patients ||- -|| addresses
patients ||- -|| service_codes
patients ||- -|| users
patients ||- -|| recurring_schedules
skinparam linetype ortho
package 施設情報 {
  entity facilities {
    * binary id <<PK>>
    - -
    string name "施設名"
    binary address_id <<FK>> "住所ID"
  }
  entity positions {
    * binary id <<PK>> "役職ID"
    - -
    string name "役職名"
    binary facility_id <<FK>> "施設ID"
  }

  entity teams {
    * binary id <<PK>>
    - -
    string name "チーム名"
    binary facility_id <<FK>> "施設ID"
  }

  note bottom of positions
    1: マネージャー
    2: チームリーダー
    2: メンバー
  end note

  entity departments {
    * binary id <<PK>>
    - -
    string name "部署名"
    binary facility_id <<FK>> "施設ID"
  }

  note bottom of departments
    1: 看護部
    2: リハビリ部
  end note
  facilities ||- -|| positions
  facilities ||- -|| teams
  facilities ||- -|| departments
}


skinparam linetype ortho

package 権限 {
  entity policies {
    * binary id <<PK>>
    - -
    string name "ポリシー名"
  }

  entity position_policies {
    * binary id <<PK>>
    - -
    binary position_id <<FK>> "役職ID"
    binary policy_id <<FK>> "ポリシーID"
  }
  note bottom of position_policies
    役職ごとに設定されるデフォルトの権限
    役職が追加・変更された際に、UserPolicyが上書きされる
  end note

  entity user_policies {
    * binary id <<PK>>
    - -
    binary user_id <<FK>> "ユーザーID"
    binary policy_id <<FK>> "ポリシーID"
  }
  note bottom of user_policies
    ユーザーが持っている権限
    認可にはこの情報を参照する
  end note

  entity user_policy_targets {
    * binary id <<PK>>
    - -
    binary user_policy_id <<FK>> "ユーザーポリシーID"
    binary target_user_id <<FK>> "ターゲットユーザーID"
  }
  note bottom of user_policy_targets
    特定のユーザーポリシーに関連するターゲットユーザーの管理
    例: カレンダーの閲覧対象ユーザー
  end note
}

package 職員情報 {
  entity users
}

package 施設情報 {
  entity positions
}

policies ||- -o{ position_policies
policies ||- -o{ user_policies
users ||- -o{ user_policies
positions ||- -o{ position_policies
user_policies ||- -o{ user_policy_targets
users ||- -o{ user_policy_targets
skinparam linetype ortho

package 訪問情報 {
  entity visit_infos {
    * binary visit_info_id <<PK>>
    - -
    binary patient_id <<FK>> "患者ID"
    binary assigned_user_id <<FK>> "担当者ID（UserID）"
    binary companion_user_id <<FK>> "同行者ID（UserID）"
    binary schedule_category_id <<FK>> "訪問カテゴリ"
    binary route_id <<FK>> "ルートID"
    binary service_code_id <<FK>> "サービスコードID"
    int service_time "提供時間"
  }

  entity service_codes {
    * binary id <<PK>>
    - -
    string code "サービスコード"
    int service_time "提供時間"
  }
  note bottom of service_codes
    コードIDに応じてサービスコードを設定
    1. 訪看I2
    2. 訪看I3
    ...
  end note

  entity visit_categories {
    * binary id <<PK>>
    - -
    string name "予定のカテゴリ"
  }

  note bottom of visit_categories
  緊急訪問件数・入院件数をカウントする
  複数選択するかどうかで、多:多の関係になる
    1:夜勤
    2:緊急
    3:入院
    ...
  end note

  entity routes {
    * binary id <<PK>>
    - -
    int travel_time "移動時間"
    binary address_id <<FK>> "出発地の住所ID"
    binary destination_id <<FK>> "目的地の住所ID"
  }

  note bottom of routes
    出発地と目的地は、addressテーブルに対応させる？
    ...
  end note
}

package 患者情報 {
  entity patients {}
}

visit_infos ||- -|| service_codes
visit_infos ||- -|| patients
visit_infos ||- -|| routes
visit_infos }|- -o{ visit_categories

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.16+8
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>