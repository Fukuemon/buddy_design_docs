<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="653px" preserveAspectRatio="none" style="width:865px;height:653px;" version="1.1" viewBox="0 0 865 653" width="865px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ddjcn6zridq6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[99ea8e9b35d8532954e1d791d0ed7561]
cluster 経営データ--><polygon fill="#FFFFFF" filter="url(#f1ddjcn6zridq6)" points="22,24,98,24,105,46.2969,669,46.2969,669,518,22,518,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="105" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="26" y="38.9951">経営データ</text><!--MD5=[eace04a6a715c010434b3f14fc7f454a]
cluster 施設情報--><polygon fill="#FFFFFF" filter="url(#f1ddjcn6zridq6)" points="372,542,434,542,441,564.2969,488,564.2969,488,641,372,641,372,542" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="372" x2="441" y1="564.2969" y2="564.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="376" y="556.9951">施設情報</text><!--MD5=[af7553808e27414a6663019e1dd2c0e6]
cluster 職員情報--><polygon fill="#FFFFFF" filter="url(#f1ddjcn6zridq6)" points="743,228,805,228,812,250.2969,843,250.2969,843,327,743,327,743,228" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="743" x2="812" y1="250.2969" y2="250.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="747" y="242.9951">職員情報</text><!--MD5=[215d8fd2e13580ab3e19cb9a9ec26cf7]
class labor_management_item_names--><rect fill="#FEFECE" filter="url(#f1ddjcn6zridq6)" height="99.2188" id="labor_management_item_names" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="38" y="403"/><ellipse cx="53" cy="419" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M57.1094,425 L49.3906,425 L49.3906,412.6094 L57.1094,412.6094 L57.1094,414.7656 L51.8438,414.7656 L51.8438,417.4375 L56.6094,417.4375 L56.6094,419.5938 L51.8438,419.5938 L51.8438,422.8438 L57.1094,422.8438 L57.1094,425 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="202" x="67" y="423.1543">labor_management_item_names</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="271" y1="435" y2="435"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="44" y="449.2104">経営数値の項目名</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="44" y="462.0151">id: binary(16) «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="271" y1="468.6094" y2="468.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="44" y="482.8198">facility_id: binary(16) «FK» "施設ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="44" y="495.6245">name: string "項目名"</text><!--MD5=[b3f971dd0969b6794ac71d2f5710bb3b]
class labor_management_items--><rect fill="#FEFECE" filter="url(#f1ddjcn6zridq6)" height="112.0234" id="labor_management_items" style="stroke: #A80036; stroke-width: 1.5;" width="416" x="237" y="231"/><ellipse cx="360.25" cy="247" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M364.3594,253 L356.6406,253 L356.6406,240.6094 L364.3594,240.6094 L364.3594,242.7656 L359.0938,242.7656 L359.0938,245.4375 L363.8594,245.4375 L363.8594,247.5938 L359.0938,247.5938 L359.0938,250.8438 L364.3594,250.8438 L364.3594,253 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="161" x="380.75" y="251.1543">labor_management_items</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="238" x2="652" y1="263" y2="263"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="243" y="277.2104">経営数値の項目ごとのデータ</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="243" y="290.0151">id: binary(16) «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="238" x2="652" y1="296.6094" y2="296.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="375" x="243" y="310.8198">monthly_labor_management_id: binary(16) «FK» "月次経営データID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="404" x="243" y="323.6245">labor_management_item_name_id: binary(16) «FK» "経営数値の項目名ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="243" y="336.4292">data int "データの値"</text><path d="M307,440 L307,465.1328 A0,0 0 0 0 307,465.1328 L653,465.1328 A0,0 0 0 0 653,465.1328 L653,450 L643,440 L484,440 L480,343.03 L476,440 L307,440 A0,0 0 0 0 307,440 " fill="#FBFB77" filter="url(#f1ddjcn6zridq6)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M643,440 L643,450 L653,450 L643,440 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="325" x="313" y="457.0669">項目ごとにデータを保存し、月次経営データと紐づける</text><!--MD5=[d2ae9b8d80d5c132e8905fc418c43ea3]
class monthly_labor_managements--><rect fill="#FEFECE" filter="url(#f1ddjcn6zridq6)" height="112.0234" id="monthly_labor_managements" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="437.5" y="59"/><ellipse cx="452.5" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M456.6094,81 L448.8906,81 L448.8906,68.6094 L456.6094,68.6094 L456.6094,70.7656 L451.3438,70.7656 L451.3438,73.4375 L456.1094,73.4375 L456.1094,75.5938 L451.3438,75.5938 L451.3438,78.8438 L456.6094,78.8438 L456.6094,81 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="466.5" y="79.1543">monthly_labor_managements</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="438.5" x2="651.5" y1="91" y2="91"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="443.5" y="105.2104">月次経営データ</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="443.5" y="118.0151">id binary(16) «PK»</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="438.5" x2="651.5" y1="124.6094" y2="124.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="443.5" y="138.8198">facility_id binary(16) «FK» "施設ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="443.5" y="151.6245">staff_id binary(16) «FK» "職員ID"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="443.5" y="164.4292">year_month date "年月"</text><!--MD5=[906b6f3cbaecf3ca9cf95c95e4e1b597]
class facilities--><rect fill="#FEFECE" filter="url(#f1ddjcn6zridq6)" height="48" id="facilities" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="388.5" y="577"/><ellipse cx="403.5" cy="593" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M407.6094,599 L399.8906,599 L399.8906,586.6094 L407.6094,586.6094 L407.6094,588.7656 L402.3438,588.7656 L402.3438,591.4375 L407.1094,591.4375 L407.1094,593.5938 L402.3438,593.5938 L402.3438,596.8438 L407.6094,596.8438 L407.6094,599 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="417.5" y="597.1543">facilities</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="389.5" x2="470.5" y1="609" y2="609"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="389.5" x2="470.5" y1="617" y2="617"/><!--MD5=[8413f8248b2da7966d2de021109ec289]
class users--><rect fill="#FEFECE" filter="url(#f1ddjcn6zridq6)" height="48" id="users" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="759.5" y="263"/><ellipse cx="774.5" cy="279" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M778.6094,285 L770.8906,285 L770.8906,272.6094 L778.6094,272.6094 L778.6094,274.7656 L773.3438,274.7656 L773.3438,277.4375 L778.1094,277.4375 L778.1094,279.5938 L773.3438,279.5938 L773.3438,282.8438 L778.6094,282.8438 L778.6094,285 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="788.5" y="283.1543">users</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="760.5" x2="825.5" y1="295" y2="295"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="760.5" x2="825.5" y1="303" y2="303"/><!--MD5=[150575a53566c58a4d381a26aecb0b85]
link monthly_labor_managements to labor_management_items--><path d="M545,179.32 C545,179.32 545,222.85 545,222.85 " fill="none" id="monthly_labor_managements-labor_management_items" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="545" x2="551" y1="222.85" y2="230.85"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="545" x2="539" y1="222.85" y2="230.85"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="545" x2="545" y1="222.85" y2="230.85"/><ellipse cx="545" cy="216.85" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="541" x2="549" y1="175.32" y2="175.32"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="541" x2="549" y1="178.32" y2="178.32"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="545" x2="545" y1="179.32" y2="171.32"/><!--MD5=[a41389e7e29d6009798c8344a5dab5fc]
link monthly_labor_managements to facilities--><path d="M659.56,134 C659.56,134 706.25,134 706.25,134 C706.25,134 706.25,601 706.25,601 C706.25,601 478.66,601 478.66,601 " fill="none" id="monthly_labor_managements-facilities" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475.66" x2="475.66" y1="605" y2="597"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="478.66" x2="478.66" y1="605" y2="597"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="479.66" x2="471.66" y1="601" y2="601"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.56" x2="656.56" y1="138" y2="130"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="659.56" x2="659.56" y1="138" y2="130"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.56" x2="652.56" y1="134" y2="134"/><!--MD5=[5e35d8b31099247b057b37f4bc7c5aad]
link monthly_labor_managements to users--><path d="M659.69,97 C659.69,97 793,97 793,97 C793,97 793,255.94 793,255.94 " fill="none" id="monthly_labor_managements-users" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="797" x2="789" y1="258.94" y2="258.94"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="797" x2="789" y1="255.94" y2="255.94"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="793" x2="793" y1="254.94" y2="262.94"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="656.69" x2="656.69" y1="101" y2="93"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="659.69" x2="659.69" y1="101" y2="93"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="660.69" x2="652.69" y1="97" y2="97"/><!--MD5=[c59bf798f68234d85cfd3e991f528a2f]
link labor_management_items to labor_management_item_names--><path d="M254.5,351.03 C254.5,351.03 254.5,394.91 254.5,394.91 " fill="none" id="labor_management_items-labor_management_item_names" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258.5" x2="250.5" y1="398.91" y2="398.91"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258.5" x2="250.5" y1="395.91" y2="395.91"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="254.5" x2="254.5" y1="394.91" y2="402.91"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="254.5" x2="248.5" y1="351.03" y2="343.03"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="254.5" x2="260.5" y1="351.03" y2="343.03"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="254.5" x2="254.5" y1="351.03" y2="343.03"/><ellipse cx="254.5" cy="357.03" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d593bd8535ba1d8e35037e1bfd894469]
link labor_management_item_names to facilities--><path d="M279.02,484 C279.02,484 430,484 430,484 C430,484 430,569.76 430,569.76 " fill="none" id="labor_management_item_names-facilities" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="434" x2="426" y1="572.76" y2="572.76"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="434" x2="426" y1="569.76" y2="569.76"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="430" x2="430" y1="568.76" y2="576.76"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="276.02" x2="276.02" y1="488" y2="480"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="279.02" x2="279.02" y1="488" y2="480"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="280.02" x2="272.02" y1="484" y2="484"/><!--MD5=[0ea3f2aba31159ee4740d19f80d5745d]
@startuml entity-relationship-diagram
skinparam linetype ortho

package 経営データ {
  entity labor_management_item_names {
    経営数値の項目名
    id: binary(16) <<PK>>
    - -
    facility_id: binary(16) <<FK>> "施設ID"
    name: string "項目名"
  }

  entity labor_management_items {
    経営数値の項目ごとのデータ
    id: binary(16) <<PK>>
    - -
    monthly_labor_management_id: binary(16) <<FK>> "月次経営データID"
    labor_management_item_name_id: binary(16) <<FK>> "経営数値の項目名ID"
    data int "データの値"
  }

  note bottom of labor_management_items
  項目ごとにデータを保存し、月次経営データと紐づける
  end note

  entity monthly_labor_managements {
    月次経営データ
    id binary(16) <<PK>>
    - -
    facility_id binary(16) <<FK>> "施設ID"
    staff_id binary(16) <<FK>> "職員ID"
    year_month date "年月"
  }
}

package 施設情報 {
  entity facilities {
  }
}

package 職員情報 {
  entity users {
  }
}


monthly_labor_managements ||- -o{ labor_management_items
monthly_labor_managements ||- -|| facilities
monthly_labor_managements ||- -|| users
labor_management_items }o- -|| labor_management_item_names
labor_management_item_names ||- -|| facilities

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.16+8
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>