<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="544px" preserveAspectRatio="none" style="width:1053px;height:544px;" version="1.1" viewBox="0 0 1053 544" width="1053px" zoomAndPan="magnify"><defs><filter height="300%" id="f17ze0mpzvbtau" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f17ze0mpzvbtau)" height="351.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="49" y="96.2969"/><rect fill="#FFFFFF" filter="url(#f17ze0mpzvbtau)" height="217.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="228" y="117.4297"/><rect fill="#FFFFFF" filter="url(#f17ze0mpzvbtau)" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="270.5" x="13" y="350.3594"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="270.5" x="13" y="396.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="54" x2="54" y1="86.2969" y2="457.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="232.5" x2="232.5" y1="86.2969" y2="457.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="476" x2="476" y1="86.2969" y2="457.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="713.5" x2="713.5" y1="86.2969" y2="457.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="959" x2="959" y1="86.2969" y2="457.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1023" x2="1023" y1="86.2969" y2="457.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="23" y="82.9951">ユーザー</text><ellipse cx="54" cy="13" fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M54,21 L54,48 M41,29 L67,29 M54,48 L41,63 M54,48 L67,63 " fill="none" filter="url(#f17ze0mpzvbtau)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="23" y="469.5576">ユーザー</text><ellipse cx="54" cy="482.8594" fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M54,490.8594 L54,517.8594 M41,498.8594 L67,498.8594 M54,517.8594 L41,532.8594 M54,517.8594 L67,532.8594 " fill="none" filter="url(#f17ze0mpzvbtau)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="192.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="199.5" y="70.9951">Frontend</text><rect fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="192.5" y="456.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="199.5" y="476.5576">Frontend</text><rect fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="427" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="434" y="70.9951">APIGateway</text><rect fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="427" y="456.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="434" y="476.5576">APIGateway</text><rect fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="674.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="681.5" y="70.9951">Backend</text><rect fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="674.5" y="456.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="681.5" y="476.5576">Backend</text><rect fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="923" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="930" y="70.9951">Cognito</text><rect fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="923" y="456.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="930" y="476.5576">Cognito</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="1009.5" y="82.9951">DB</text><path d="M1005,34 C1005,24 1023,24 1023,24 C1023,24 1041,24 1041,34 L1041,60 C1041,70 1023,70 1023,70 C1023,70 1005,70 1005,60 L1005,34 " fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1005,34 C1005,44 1023,44 1023,44 C1023,44 1041,44 1041,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="1009.5" y="469.5576">DB</text><path d="M1005,482.8594 C1005,472.8594 1023,472.8594 1023,472.8594 C1023,472.8594 1041,472.8594 1041,482.8594 L1041,508.8594 C1041,518.8594 1023,518.8594 1023,518.8594 C1023,518.8594 1005,518.8594 1005,508.8594 L1005,482.8594 " fill="#FEFECE" filter="url(#f17ze0mpzvbtau)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1005,482.8594 C1005,492.8594 1023,492.8594 1023,492.8594 C1023,492.8594 1041,492.8594 1041,482.8594 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f17ze0mpzvbtau)" height="351.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="49" y="96.2969"/><rect fill="#FFFFFF" filter="url(#f17ze0mpzvbtau)" height="217.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="228" y="117.4297"/><polygon fill="#A80036" points="216,113.4297,226,117.4297,216,121.4297,220,117.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59" x2="222" y1="117.4297" y2="117.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="66" y="112.3638">ユーザー情報入力</text><polygon fill="#A80036" points="464,142.5625,474,146.5625,464,150.5625,468,146.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="238" x2="470" y1="146.5625" y2="146.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="245" y="141.4966">Post：buddy.api.com/auth/signup</text><polygon fill="#A80036" points="702,171.6953,712,175.6953,702,179.6953,706,175.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="476" x2="708" y1="175.6953" y2="175.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="483" y="170.6294">Post：buddy.api.com/auth/signup</text><polygon fill="#A80036" points="947,200.8281,957,204.8281,947,208.8281,951,204.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="714" x2="953" y1="204.8281" y2="204.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="721" y="199.7622">ユーザープールにユーザー情報を登録</text><polygon fill="#A80036" points="725,229.9609,715,233.9609,725,237.9609,721,233.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="719" x2="958" y1="233.9609" y2="233.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="731" y="228.895">SignUpOutput（Sub[UUiD]）</text><polygon fill="#A80036" points="1011,259.0938,1021,263.0938,1011,267.0938,1015,263.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="714" x2="1017" y1="263.0938" y2="263.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="721" y="258.0278">"subを主キーとして、ユーザー情報"を保存</text><polygon fill="#A80036" points="725,273.0938,715,277.0938,725,281.0938,721,277.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="719" x2="1022" y1="277.0938" y2="277.0938"/><polygon fill="#A80036" points="487,302.2266,477,306.2266,487,310.2266,483,306.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="481" x2="713" y1="306.2266" y2="306.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="493" y="301.1606">Response"200":{"message": ok}</text><polygon fill="#A80036" points="244,331.3594,234,335.3594,244,339.3594,240,335.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="238" x2="475" y1="335.3594" y2="335.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="250" y="330.2935">Response"200":{"message": ok}</text><path d="M13,350.3594 L77,350.3594 L77,357.3594 L67,367.3594 L13,367.3594 L13,350.3594 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="270.5" x="13" y="350.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="363.4263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="92" y="362.5698">[ユーザー登録成功]</text><polygon fill="#A80036" points="70,384.625,60,388.625,70,392.625,66,388.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="232" y1="388.625" y2="388.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="76" y="383.5591">/calendarへリダイレクト</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="283.5" y1="397.625" y2="397.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="18" y="407.8354">[ユーザー登録失敗]</text><polygon fill="#A80036" points="70,428.5625,60,432.5625,70,436.5625,66,432.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="232" y1="432.5625" y2="432.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="76" y="427.4966">エラーメッセージを表示</text><!--MD5=[643ea8fcc7f928c98b3226c6bfcae1c3]
@startuml SignUp
Actor ユーザー
Participant Frontend as Front
Participant APIGateway as Gateway
Participant Backend as Back
Participant Cognito
database DB

activate ユーザー
ユーザー -> Front: ユーザー情報入力
activate Front
Front -> Gateway: Post：buddy.api.com/auth/signup
Gateway -> Back: Post：buddy.api.com/auth/signup
Back -> Cognito: ユーザープールにユーザー情報を登録
Cognito - -> Back: SignUpOutput（Sub[UUiD]）
Back -> DB: "subを主キーとして、ユーザー情報"を保存
DB - -> Back
Back - -> Gateway: Response"200":{"message": ok}
Gateway - -> Front: Response"200":{"message": ok}
deactivate Front
alt ユーザー登録成功
  Front - -> ユーザー: /calendarへリダイレクト
else ユーザー登録失敗
  Front - -> ユーザー: エラーメッセージを表示
end
deactivate ユーザー
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.16+8
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>