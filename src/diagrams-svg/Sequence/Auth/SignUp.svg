<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="590px" preserveAspectRatio="none" style="width:1196px;height:590px;" version="1.1" viewBox="0 0 1196 590" width="1196px" zoomAndPan="magnify"><defs><filter height="300%" id="f1g015xcs0jxjk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="396.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="49" y="96.2969"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="360.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="233" y="117.4297"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="219.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="540" y="161.6953"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="847" y="205.9609"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1097" y="235.0938"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1161" y="293.3594"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="275.5" x="13" y="395.7578"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="275.5" x="13" y="442.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="54" x2="54" y1="86.2969" y2="502.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="237.5" x2="237.5" y1="86.2969" y2="502.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="545" x2="545" y1="86.2969" y2="502.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="851.5" x2="851.5" y1="86.2969" y2="502.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1102" x2="1102" y1="86.2969" y2="502.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1166" x2="1166" y1="86.2969" y2="502.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="23" y="82.9951">ユーザー</text><ellipse cx="54" cy="13" fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M54,21 L54,48 M41,29 L67,29 M54,48 L41,63 M54,48 L67,63 " fill="none" filter="url(#f1g015xcs0jxjk)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="23" y="514.9561">ユーザー</text><ellipse cx="54" cy="528.2578" fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M54,536.2578 L54,563.2578 M41,544.2578 L67,544.2578 M54,563.2578 L41,578.2578 M54,563.2578 L67,578.2578 " fill="none" filter="url(#f1g015xcs0jxjk)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="197.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="204.5" y="70.9951">Frontend</text><rect fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="197.5" y="501.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="204.5" y="521.9561">Frontend</text><rect fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="496" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="503" y="70.9951">APIGateway</text><rect fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="496" y="501.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="503" y="521.9561">APIGateway</text><rect fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="812.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="819.5" y="70.9951">Backend</text><rect fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="812.5" y="501.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="819.5" y="521.9561">Backend</text><rect fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="1066" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="1073" y="70.9951">Cognito</text><rect fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="1066" y="501.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="1073" y="521.9561">Cognito</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="1152.5" y="82.9951">DB</text><path d="M1148,34 C1148,24 1166,24 1166,24 C1166,24 1184,24 1184,34 L1184,60 C1184,70 1166,70 1166,70 C1166,70 1148,70 1148,60 L1148,34 " fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1148,34 C1148,44 1166,44 1166,44 C1166,44 1184,44 1184,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="1152.5" y="514.9561">DB</text><path d="M1148,528.2578 C1148,518.2578 1166,518.2578 1166,518.2578 C1166,518.2578 1184,518.2578 1184,528.2578 L1184,554.2578 C1184,564.2578 1166,564.2578 1166,564.2578 C1166,564.2578 1148,564.2578 1148,554.2578 L1148,528.2578 " fill="#FEFECE" filter="url(#f1g015xcs0jxjk)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1148,528.2578 C1148,538.2578 1166,538.2578 1166,538.2578 C1166,538.2578 1184,538.2578 1184,528.2578 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="396.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="49" y="96.2969"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="360.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="233" y="117.4297"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="219.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="540" y="161.6953"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="847" y="205.9609"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1097" y="235.0938"/><rect fill="#FFFFFF" filter="url(#f1g015xcs0jxjk)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1161" y="293.3594"/><polygon fill="#A80036" points="221,113.4297,231,117.4297,221,121.4297,225,117.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59" x2="227" y1="117.4297" y2="117.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="66" y="112.3638">ユーザー情報入力</text><polygon fill="#A80036" points="528,157.6953,538,161.6953,528,165.6953,532,161.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="243" x2="534" y1="161.6953" y2="161.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="250" y="141.4966">Post：buddy.api.com/auth/signup</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="250" y="156.6294">-body: {username, password, ...etc}</text><polygon fill="#A80036" points="835,201.9609,845,205.9609,835,209.9609,839,205.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="550" x2="841" y1="205.9609" y2="205.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="557" y="185.7622">Post：auth/signup</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="557" y="200.895">-body: {username, password, ...etc}</text><polygon fill="#A80036" points="1085,231.0938,1095,235.0938,1085,239.0938,1089,235.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="857" x2="1091" y1="235.0938" y2="235.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="864" y="230.0278">ユーザープールにユーザー情報を登録</text><polygon fill="#A80036" points="868,260.2266,858,264.2266,868,268.2266,864,264.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="862" x2="1101" y1="264.2266" y2="264.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="874" y="259.1606">SignUpOutput（Sub[UUiD]）</text><polygon fill="#A80036" points="1149,289.3594,1159,293.3594,1149,297.3594,1153,293.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="857" x2="1155" y1="293.3594" y2="293.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="864" y="288.2935">"subを主キーとして、ユーザー情報"を保存</text><polygon fill="#A80036" points="868,318.4922,858,322.4922,868,326.4922,864,322.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="862" x2="1165" y1="322.4922" y2="322.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="874" y="317.4263">保存完了</text><polygon fill="#A80036" points="561,347.625,551,351.625,561,355.625,557,351.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="555" x2="851" y1="351.625" y2="351.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="567" y="346.5591">Response"201":{user: {username, ...etc}}</text><polygon fill="#A80036" points="254,376.7578,244,380.7578,254,384.7578,250,380.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="248" x2="544" y1="380.7578" y2="380.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="260" y="375.6919">Response"201":{user: {username, ...etc}}</text><path d="M13,395.7578 L77,395.7578 L77,402.7578 L67,412.7578 L13,412.7578 L13,395.7578 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="275.5" x="13" y="395.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="408.8247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="92" y="407.9683">[ユーザー登録成功]</text><polygon fill="#A80036" points="70,430.0234,60,434.0234,70,438.0234,66,434.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="232" y1="434.0234" y2="434.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="76" y="428.9575">/calendarへリダイレクト</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="288.5" y1="443.0234" y2="443.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="18" y="453.2339">[ユーザー登録失敗]</text><polygon fill="#A80036" points="70,473.9609,60,477.9609,70,481.9609,66,477.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="237" y1="477.9609" y2="477.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="76" y="472.895">エラーメッセージを表示</text><!--MD5=[a132223e5746fccfd9f60fc588bb5fee]
@startuml SignUp
Actor ユーザー
Participant Frontend as Front
Participant APIGateway as Gateway
Participant Backend as Back
Participant Cognito
database DB

activate ユーザー
ユーザー -> Front: ユーザー情報入力
activate Front
Front -> Gateway: Post：buddy.api.com/auth/signup \n-body: {username, password, ...etc}

activate Gateway
Gateway -> Back: Post：auth/signup \n-body: {username, password, ...etc}

activate Back
Back -> Cognito: ユーザープールにユーザー情報を登録

activate Cognito
Cognito - -> Back: SignUpOutput（Sub[UUiD]）
deactivate Cognito

Back -> DB: "subを主キーとして、ユーザー情報"を保存
activate DB
DB - -> Back: 保存完了
deactivate DB

Back - -> Gateway: Response"201":{user: {username, ...etc}}
deactivate Back
Gateway - -> Front: Response"201":{user: {username, ...etc}}
deactivate Gateway
alt ユーザー登録成功
  Front - -> ユーザー: /calendarへリダイレクト
else ユーザー登録失敗
  Front - -> ユーザー: エラーメッセージを表示
deactivate Front
end
deactivate ユーザー
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.16+8
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>